{"version":3,"file":"main.js","sources":["../src/GrandmaSupport.ts","../src/Util.ts","../src/Logger.ts","../src/Vars.ts","../src/Settings.ts","../src/SaveData.ts","../node_modules/cppkies/dist/index.js","../src/Patches.ts","../src/Config.ts","../src/Routines.ts","../src/OmniCookies.ts","../src/index.ts"],"sourcesContent":["import * as Util from \"./Util\";\r\nimport * as Logger from \"./Logger\";\r\nimport { vars } from \"./Vars\";\r\n\r\nexport interface Icon {\r\n\tframe: number\r\n\r\n\t/** ID of the image (should be unique) */\r\n\tid: number\r\n\r\n\t/** Asset name to use */\r\n\tpic: string\r\n\r\n\t/** Horizontal offset */\r\n\tx: number\r\n\r\n\t/** Vertical offset */\r\n\ty: number\r\n\r\n\t/** Depth offset */\r\n\tz: number\r\n\r\n\t/** Whether this image is a hoverable grandma */\r\n\tgrandma?: boolean\r\n}\r\n\r\n/** Defines synergy grandma drawing behavior */\r\nexport interface Properties {\r\n\t/** Building to tie in with */\r\n\tbuilding: Game.Object\r\n\r\n\t/** \r\n\t * Buildings-to-grandmas ratio  \r\n\t * If this is less than 1, draw more per building  \r\n\t * If this is greater than 1, draw less per building\r\n\t * \r\n\t * Must be greater than 0\r\n\t */\r\n\tfrequency?: number\r\n\r\n\t/**\r\n\t * @param {Icon} basePic Base building icon, for positioning grandmas\r\n\t * @param {number} id Unique identifier for this particular grandma\r\n\t * @returns {Icon|Icon[]} New images to draw for the drawn grandma\r\n\t */\r\n\tdrawGrandma: (basePic: Icon, id: number) => Icon | Icon[]\r\n}\r\n\r\n/**\r\n * Registers support for a custom Bring Grandma to Work Day display\r\n * \r\n * @param props Grandma support properties\r\n * @param granToBan Grandma sprite to disallow appearing in normal grandma building\r\n */\r\nexport function registerSupport(props: Properties, granToBan?: string) {\r\n\tif(grandmaProperties[props.building.name]) {\r\n\t\tLogger.warn(`Replacing custom grandma support for '${props.building.name}'!`);\r\n\t}\r\n\tgrandmaProperties[props.building.name] = props;\r\n\tif(granToBan) vars.bannedGrandmas[granToBan] = true;\r\n}\r\n\r\n/**\r\n * Calculates the amount of grandmas that have been drawn  \r\n * given a number of buildings and a frequency.\r\n * \r\n * This is NOT mathematically independent.  \r\n * To get the true values, compare against the previous calc\r\n * and subtract 1 if the difference is >= 2.\r\n * \r\n * @param num Amount of buildings\r\n * @param freq Amount of buildings per grandma\r\n * @returns Amount of grandmas\r\n */\r\nfunction grandmaAmountCalc(num: number, freq: number) {\r\n\tlet lastPerc = Math.abs(((num-1)/freq)%1);\r\n\tlet count = num/freq;\r\n\r\n\t// did we skip a number?\r\n\tif(Math.floor(count - lastPerc) < count) count += 1;\r\n\r\n\treturn Math.floor(count);\r\n}\r\n\r\n/**\r\n * Attempts to draw a synergy grandma on supported buildings.\r\n * \r\n * @param building Building to draw grandmas on\r\n * @param basePic Base building sprite\r\n * @param id Which building this is\r\n * @returns Grandma icons to draw\r\n */\r\nexport function tryDrawGrandmas(building: Game.Object, basePic: Icon, id: number): Icon[] {\r\n\tlet props = grandmaProperties[building.name];\r\n\tif(!props) return;\r\n\tlet freq = (!props.frequency || props.frequency <= 0) ? 1 : props.frequency;\r\n\tlet currentGrandmas = Util.getNumSynergyGrandmas(building);\r\n\r\n\t// This math is ridiculous but seriously just go with it\r\n\tlet drawnGrandmas = grandmaAmountCalc(id, freq);\r\n\tlet prevDrawnGrandmas = grandmaAmountCalc(id-1, freq);\r\n\tlet num = drawnGrandmas-prevDrawnGrandmas;\r\n\tnum = Math.floor(Math.max(0, Math.min(num, currentGrandmas - drawnGrandmas)));\r\n\r\n\tlet grandmas: Icon[] = [];\r\n\tfor(let i = 0; i < num; i++) {\r\n\t\tid += 0.1;\r\n\t\tgrandmas = grandmas.concat(props.drawGrandma(basePic, id));\r\n\t}\r\n\treturn grandmas;\r\n}\r\n\r\nexport let grandmaProperties: Record<string, Properties> = {\r\n\t'Farm': {\r\n\t\tbuilding: Game.Objects['Farm'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*40),\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.5)*10)+5,\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'farmerGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Mine': {\r\n\t\tbuilding: Game.Objects['Mine'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*25)+10,\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.4)*5)+2,\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'minerGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Factory': {\r\n\t\tbuilding: Game.Objects['Factory'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*50),\r\n\t\t\t\ty: basePic.y,\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'workerGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Bank': {\r\n\t\tbuilding: Game.Objects['Bank'],\r\n\t\tfrequency: Math.E/2,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*40),\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.5)*4),\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'bankGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Temple': {\r\n\t\tbuilding: Game.Objects['Temple'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*25),\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.5)*4),\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'templeGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Wizard tower': {\r\n\t\tbuilding: Game.Objects['Wizard tower'],\r\n\t\tfrequency: 3,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*35)+20,\r\n\t\t\t\ty: Math.floor((Math.random()-0.5)*12)+60,\r\n\t\t\t\tz: basePic.y+50,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'witchGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Shipment': {\r\n\t\tbuilding: Game.Objects['Shipment'],\r\n\t\tfrequency: 0.5,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\tlet dir = (id - basePic.id).toFixed(1) == '0.1' ? -1 : 1;\r\n\t\t\tlet x = basePic.x + Math.floor(Math.random()*dir*5)+(15*dir);\r\n\t\t\tlet y = basePic.y + Math.floor(Math.random()*20)+(15*dir*-1);\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\tz: y+(id%1),\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'cosmicGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Alchemy lab': {\r\n\t\tbuilding: Game.Objects['Alchemy lab'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*45),\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.5)*4),\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'transmutedGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Portal': {\r\n\t\tbuilding: Game.Objects['Portal'],\r\n\t\tfrequency: Math.PI/2,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\tlet y = Math.floor((Math.random())*70);\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*35),\r\n\t\t\t\ty: y,\r\n\t\t\t\tz: 999+y+id,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'alteredGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Time machine': {\r\n\t\tbuilding: Game.Objects['Time machine'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\t// Load the front of the time machine, to overlay the grandma's grandma\r\n\t\t\tlet spriteName = 'https://gamrguy.github.io/OmniscientCookies/img/timemachine_front.png';\r\n\t\t\tUtil.loadCustomAsset(spriteName);\r\n\t\t\treturn [\r\n\t\t\t\t{\r\n\t\t\t\t\tx: basePic.x - 5,\r\n\t\t\t\t\ty: basePic.y-2,\r\n\t\t\t\t\tz: 999+basePic.id,\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tpic: 'grandmasGrandma.png',\r\n\t\t\t\t\tframe: -1,\r\n\t\t\t\t\tgrandma: true\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tx: basePic.x,\r\n\t\t\t\t\ty: basePic.y,\r\n\t\t\t\t\tz: 1000+basePic.id,\r\n\t\t\t\t\tid: id + 0.01,\r\n\t\t\t\t\tpic: spriteName,\r\n\t\t\t\t\tframe: -1\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\t},\r\n\t'Antimatter condenser': {\r\n\t\tbuilding: Game.Objects['Antimatter condenser'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x,\r\n\t\t\t\ty: basePic.y-6,\r\n\t\t\t\tz: 999+basePic.id,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'antiGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Prism': {\r\n\t\tbuilding: Game.Objects['Prism'],\r\n\t\tfrequency: 1,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*45),\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.5)*8)+8,\r\n\t\t\t\tz: basePic.y+0.1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'rainbowGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Chancemaker': {\r\n\t\tbuilding: Game.Objects['Chancemaker'],\r\n\t\tfrequency: 2,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*50),\r\n\t\t\t\ty: 70,\r\n\t\t\t\tz: 777+basePic.id,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'luckyGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Fractal engine': {\r\n\t\tbuilding: Game.Objects['Fractal engine'],\r\n\t\tfrequency: Math.PI/4,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\tlet realID = (id - basePic.id).toFixed(1);\r\n\t\t\tif(!this.prevX || (realID == '0.1') || realID == this.prevID) { \r\n\t\t\t\tthis.prevX = 0; \r\n\t\t\t\tthis.prevY = 0; \r\n\t\t\t}\r\n\t\t\tlet x = basePic.x + Math.floor((Math.random()-0.5)*35);\r\n\t\t\tlet y = Math.floor((Math.random())*70);\r\n\t\t\tif(this.prevX && Math.abs(x - this.prevX) < 30) x += Math.sign(x - basePic.x) * 30;\r\n\t\t\tif(this.prevY && Math.abs(y - this.prevY) < 30) y += Math.sign(basePic.y - y) * 30;\r\n\t\t\tthis.prevX = x;\r\n\t\t\tthis.prevY = y;\r\n\t\t\tthis.prevID = realID;\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y,\r\n\t\t\t\tz: 999+y+id,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'metaGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t'Idleverse': {\r\n\t\tbuilding: Game.Objects['Idleverse'],\r\n\t\tfrequency: Math.PI/1.5,\r\n\t\tdrawGrandma(basePic, id) {\r\n\t\t\treturn {\r\n\t\t\t\tx: basePic.x + Math.floor((Math.random()-0.5)*15),\r\n\t\t\t\ty: basePic.y + Math.floor((Math.random()-0.5)*15) - 25,\r\n\t\t\t\tz: basePic.y + 1,\r\n\t\t\t\tid: id,\r\n\t\t\t\tpic: 'alternateGrandma.png',\r\n\t\t\t\tframe: -1,\r\n\t\t\t\tgrandma: true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}","import * as Logger from './Logger'\r\n\r\nexport enum ButtonType {\r\n\tSHIFT = 16,\r\n\tCTRL = 17\r\n}\r\n\r\ninterface BuyBulkData {\r\n\t/** The total price of buying this many buildings */\r\n\treadonly totalPrice: number\r\n\r\n\t/** The maximum price that can be afforded by the player */\r\n\treadonly maxPrice: number\r\n\r\n\t/** The maximum amount of buildings that can be afforded by the player */\r\n\treadonly maxAmount: number\r\n}\r\n\r\n/**\r\n * Calculates the price and maximum buildings that can be bought from buying in bulk\r\n * \r\n * @param {Game.Object} building Building to buy\r\n * @param {number} amount Number of buildings to buy\r\n * @returns {BuyBulkData} Total and maximum affordable price and number of buildings\r\n */\r\nexport function calcMaxBuyBulk(building: Game.Object, amount: number, scaling: number = Game.priceIncrease): BuyBulkData {\r\n\tlet totalPrice = 0;\r\n\tlet maxPrice = 0;\r\n\tlet maxAmount = 0;\r\n\tif(amount == -1) amount = Infinity;\r\n\r\n\t// if you have infinity, you can get infinity. yep\r\n\t// will you have infinity? if you're cheating maybe lol\r\n\t// oh but please don't do this while the vanilla game still uses for loops\r\n\t// you'll just crash anyways\r\n\tif(Game.cookies == Infinity && amount == Infinity) {\r\n\t\treturn { totalPrice: Infinity, maxPrice: Infinity, maxAmount: amount };\r\n\t}\r\n\t\r\n\ttotalPrice = quickCalcBulkPrice(building, amount, scaling);\r\n\tmaxAmount = Math.min(amount, quickCalcMaxBuy(building, scaling) + building.free);\r\n\tmaxPrice = quickCalcBulkPrice(building, maxAmount, scaling);\r\n\t\r\n\treturn { totalPrice: totalPrice, maxPrice: maxPrice, maxAmount: maxAmount };\r\n}\r\n\r\n/**\r\n * Calculates the maximum number of buildings that can be currently bought in O(1) time.\r\n * Thanks to staticvariablejames on the Discord server!\r\n * @param {Game.Object} building Game.Object to calculate maximum buy count of\r\n * @returns {number} Maximum number of this building that can be bought\r\n */\r\nexport function quickCalcMaxBuy(building: Game.Object, scaling: number = Game.priceIncrease): number {\r\n\tlet cookies = Game.cookies;\r\n\tcookies /= Game.modifyBuildingPrice(building.name, building.basePrice);\r\n\tlet boughtCount = building.amount - building.free;\r\n\treturn Math.floor(Math.log(scaling**boughtCount + (scaling - 1)*cookies)/Math.log(scaling) - building.amount);\r\n}\r\n\r\n/**\r\n * Calculates the price of buying buildings in O(1) time.\r\n * Starts from the current number of buildings.\r\n * @param {Game.Object} building Building to calculate price of\r\n * @param {number} bulk Number of buildings to buy\r\n * @param {boolean} sell Whether to instead calculate selling the buildings\r\n * @returns {number} Amount of cookies this many buildings is worth\r\n */\r\nexport function quickCalcBulkPrice(building: Game.Object, bulk: number, scaling: number = Game.priceIncrease, sell?: boolean): number {\r\n\tlet buildingCount = Math.max(0, building.amount - building.free);\r\n\tlet sum: number;\r\n\tif(sell) {\r\n\t\tif(buildingCount <= 0) return 0;\r\n\t\tbuildingCount--;\r\n\t\tsum = powerSumRange(scaling, Math.max(0, buildingCount-bulk), buildingCount);\r\n\t} else {\r\n\t\tsum = powerSumRange(scaling, buildingCount, buildingCount + bulk-1);\r\n\t}\r\n\tsum = Game.modifyBuildingPrice(building.name, sum*building.basePrice);\r\n\tif(sell) sum *= building.getSellMultiplier();\r\n\treturn Math.ceil(sum);\r\n}\r\n\r\n/**\r\n * \r\n * @param {number} x Base\r\n * @param {number} start Starting exponent\r\n * @param {number} end Ending exponent\r\n * @returns {number} Sum of exponents x^start to x^end, inclusive\r\n */\r\nexport function powerSumRange(x: number, start: number, end: number): number {\r\n\tif(x < 0) return -1;           // please don't\r\n\tif(x == 0) return 0;           // obviously\r\n\tif(x == 1) return end - start; // come on man\r\n\tif(start == end) return x**start; // really, this is getting old\r\n\t\r\n\tlet sum1 = (x**(start) - 1)/(x - 1); // sum from 0 to start-1\r\n\tlet sum2 = (x**(end+1) - 1)/(x - 1);   // sum from 0 to end\r\n\treturn sum2 - sum1; // sum from start to end\r\n}\r\n\r\n/**\r\n * Returns the progress of a cycle, starting from Jan 1, 1970, 00:00:00, UTC time.\r\n * @param {number} interval Length of cycle in hours\r\n * @param {boolean} zoned Whether to offset the cycle as though it were GMT+1 time\r\n * @returns {number} Rotation of current cycle in radians\r\n */\r\nexport function cycliusCalc(interval: number, zoned?: boolean): number {\r\n\tlet cycle = (Date.now()/1000/(60*60*interval));\r\n\tif(zoned) {\r\n\t\tcycle += (new Date().getTimezoneOffset() + 60)/60/interval\r\n\t}\r\n\tcycle %= 1;\r\n\treturn cycle*Math.PI*2;\r\n}\r\n\r\n/**\r\n * Loads data from an object into another object.\r\n * @param {object} data Data to be loaded from\r\n * @param {object} into Object to load data into\r\n */\r\nexport function loadData(data: object, into: object): void {\r\n\tif(data) {\r\n\t\tfor(let key of Object.keys(data)) {\r\n\t\t\tif(key in into) {\r\n\t\t\t\t// convert from old boolean buttons to new optioned buttons\r\n\t\t\t\t// for these buttons in particular, 0 was \"on\" and 2 is now \"off\"\r\n\t\t\t\t/*if(typeof data[key] == 'boolean' && typeof into[key] == 'number') {\r\n\t\t\t\t\tdata[key] = data[key] ? 0 : 2;\r\n\t\t\t\t}*/\r\n\t\t\t\tinto[key] = data[key];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Switches the milk selector's icon to the given milk type\r\n * @param {number} milkID\r\n */\r\nexport function switchMilkIcon(milkID: number): void {\r\n\tlet milkSelect = Game.Upgrades['Milk selector'] as Game.SelectorSwitch;\r\n\tif(milkID == 0) milkSelect.icon = Game.Milk.icon;\r\n\telse milkSelect.icon = milkSelect.choicesFunction()[milkID].icon;\r\n\tGame.upgradesToRebuild = 1;\r\n}\r\n\r\n/**\r\n * Gets the number of grandmas from this building's synergy upgrade.\r\n * @param {Game.Object} building \r\n * @returns {number} Number of synergy grandmas\r\n */\r\nexport function getNumSynergyGrandmas(building: Game.Object): number {\r\n\tif(building.grandma && building.grandma.bought) {\r\n\t\treturn Math.floor(Game.Objects['Grandma'].amount / (building.id - 1));\r\n\t}\r\n\treturn -1;\r\n}\r\n\r\n/**\r\n * Instantly applies the given amount of passive CpS.\r\n * This includes updating wrinkler bellies and building stats.\r\n * Used by the revamped Cursed Finger.\r\n * @param {number} seconds \r\n */\r\nexport function gainInstantPassiveCpS(seconds: number): void {\r\n\tlet cookies = Game.cookiesPs * seconds;\r\n\r\n\t// Suck the cookies\r\n\tfor(let wrinkler of Game.wrinklers) {\r\n\t\tif(wrinkler.phase == 2) {\r\n\t\t\twrinkler.sucked += cookies * Game.cpsSucked;\r\n\t\t\tGame.cookiesSucked += cookies * Game.cpsSucked;\r\n\t\t}\r\n\t}\r\n\tcookies *= 1 - Game.cpsSucked;\r\n\r\n\t// Update building total cookies baked stats\r\n\tfor (let obj of Game.ObjectsById) {\r\n\t\tobj.totalCookies += obj.storedTotalCps * Game.globalCpsMult * seconds;\r\n\t}\r\n\r\n\tGame.Earn(cookies);\r\n}\r\n\r\n/**\r\n * Changes the overflowY styling of the center scrollbar\r\n * @param style overflowY styling to use\r\n */\r\nexport function scrollbarStyle(style: string) {\r\n\tvar center = document.getElementById('centerArea');\r\n\tcenter.style.overflowY = style;\r\n}\r\n\r\n/** \r\n * Performs the given function when the given building's minigame has loaded \r\n * @param obj Name of building\r\n * @param func Function to run\r\n */\r\nexport function onMinigameLoaded(obj: string, func: () => void) {\r\n\tlet interval = setInterval(function() {\r\n\t\tif(Game.Objects[obj].minigameLoaded) {\r\n\t\t\tfunc();\r\n\t\t\tclearInterval(interval);\r\n\t\t}\r\n\t}, 250);\r\n}\r\n\r\n/**\r\n * Queues loading of a custom image asset\r\n * @param img URL of image to load\r\n */\r\nexport function loadCustomAsset(img: string) {\r\n\tif(!Game.Loader.assetsLoading[img] && !Game.Loader.assetsLoaded[img]) {\r\n\t\tGame.Loader.assets[img] = ({} as any);\r\n\t\tGame.Loader.Replace(img, img);\r\n\t\tGame.Loader.assetsLoading.push(img);\r\n\t}\r\n}\r\n\r\n/** Returns whether the given button is being held */\r\nexport function holdingButton(btn: ButtonType): number {\r\n\treturn Game.keys[btn] == undefined ? 0 : Game.keys[btn];\r\n}\r\n\r\n/** Whether the mouse is within a given rectangle. Used for UpdateWrinklers */\r\nexport function inRect(x: number,y: number, rect: any): boolean {\r\n\t//find out if the point x,y is in the rotated rectangle rect{w,h,r,o} (width,height,rotation in radians,y-origin) (needs to be normalized)\r\n\t//I found this somewhere online I guess\r\n\tlet dx = x+Math.sin(-rect.r)*(-(rect.h/2-rect.o)),dy=y+Math.cos(-rect.r)*(-(rect.h/2-rect.o));\r\n\tlet h1 = Math.sqrt(dx*dx + dy*dy);\r\n\tlet currA = Math.atan2(dy,dx);\r\n\tlet newA = currA - rect.r;\r\n\tlet x2 = Math.cos(newA) * h1;\r\n\tlet y2 = Math.sin(newA) * h1;\r\n\tif (x2 > -0.5 * rect.w && x2 < 0.5 * rect.w && y2 > -0.5 * rect.h && y2 < 0.5 * rect.h) return true;\r\n\treturn false;\r\n};","import { name } from \"./Vars\"\r\n\r\nexport function log(message: any) {\r\n\tconsole.log(`[${name}] ${message}`)\r\n}\r\nexport function warn(message: any) {\r\n\tconsole.warn(`[${name}] ${message}`)\r\n}\r\nexport function error(message: any) {\r\n\tconsole.error(`[${name}] ${message}`)\r\n}","export let name = 'Omniscient Cookies'\r\nexport let version = 'v2.2.2'\r\n\r\nexport interface Vars {\r\n\tlastMilk: number\r\n\tlastAutoMilk: any\r\n\tbuffsById: Game.Buff[]\r\n\tcursedPs: number\r\n\tcursedPsMult: number\r\n\tascendMeterLevel: number\r\n\tascendMeterPercent: number\r\n\tlevelDiff: number\r\n\tpatchedTrueCyclius: boolean\r\n\tprevShortcut: 0 | 1 | 2 | 3\r\n\tGetBuffTooltipFunc?: Function\r\n\t/** pseudoCookie upgrades not to be given tags or particles */\r\n\tbannedPseudoCookies: Record<string, boolean>,\r\n\tskipModifyPrice: boolean,\r\n\tbannedGrandmas: Record<string, boolean>\r\n}\r\n\r\nexport let vars: Vars = {\r\n\tlastMilk: -1,\r\n\tlastAutoMilk: undefined,\r\n\tbuffsById: [],\r\n\tcursedPs: 0,\r\n\tcursedPsMult: 0,\r\n\tascendMeterLevel: undefined,\r\n\tascendMeterPercent: undefined,\r\n\tlevelDiff: 0,\r\n\tpatchedTrueCyclius: false,\r\n\tprevShortcut: 0,\r\n\tbannedPseudoCookies: {},\r\n\tskipModifyPrice: false,\r\n\tbannedGrandmas: {}\r\n}","import { version } from \"./Vars\";\r\nimport { loadData } from \"./Util\";\r\n\r\nexport enum BypassFancySetting {\r\n\tDefault = 0, Fast = 1, Fancy = 2\r\n}\r\n\r\nexport class Settings {\r\n\t/** Current Omniscient Cookies version */\r\n\tversion: string;\r\n\r\n\t/** Whether the scrollbar will automatically hide itself */\r\n\tautoScrollbar: boolean;\r\n\r\n\t/** Whether buildings will scroll when hovering over the outer 100px */\r\n\tscrollingBuildings: boolean;\r\n\r\n\t/** Whether buildings will draw every frame (instead of every 3 frames) */\r\n\tsmoothBuildings: boolean;\r\n\r\n\t/** Whether to show buff duration in buff tooltips */\r\n\tbuffTooltipDuration: boolean;\r\n\r\n\t/** Whether to improve building tooltips */\r\n\tbetterBuildingTooltips: boolean;\r\n\r\n\t/** Whether to fix various grandma-related nitpicks */\r\n\tbetterGrandmas: boolean;\r\n\r\n\t/** Whether to give tech upgrades their own stats category */\r\n\tseparateTechs: boolean;\r\n\r\n\t/** Whether to enhance the bulk buy/sell experience */\r\n\tenhancedBulk: boolean;\r\n\r\n\t/** How buildings will override the Fancy setting */\r\n\tbuildingsBypassFancy: BypassFancySetting\r\n\r\n\t/** How cursors will override the Fancy setting */\r\n\tcursorsBypassFancy: BypassFancySetting\r\n\r\n\t/** How wrinklers will override the Fancy setting */\r\n\twrinklersBypassFancy: BypassFancySetting\r\n\r\n\t/** Whether buildings will attempt to skip unnecessary frames */\r\n\toptimizeBuildings: boolean\r\n\r\n\t/** Whether to attempt to restore wrinklers to exact specifications */\r\n\tpreserveWrinklers: boolean\r\n\r\n\t/** Whether to show Cyclius' cycles in his tooltip */\r\n\tdetailedCyclius: boolean\r\n\r\n\t/** Whether to offset Cyclius as though it were always GMT+1 time */\r\n\tzonedCyclius: boolean\r\n\r\n\t/** Whether to make Cyclius' sprite rotate with his cycles */\r\n\ttrueCyclius: boolean\r\n\r\n\t/** Whether to display information about average bought stock values */\r\n\tstockValueData: boolean\r\n\r\n\t/** Whether buying or selling on the stock market will affect total cookies baked */\r\n\tdangerousStocks: boolean\r\n\r\n\t/** Whether to use the tooltip wobble animation */\r\n\ttooltipWobble: boolean\r\n\r\n\t/** Whether the milk selector's icon will reflect the current milk */\r\n\tfancyMilkSelect: boolean\r\n\r\n\t/** Whether to apply slight graphical improvements to the Grimoire's magic meter */\r\n\timproveMagicMeter: boolean\r\n\r\n\t/** Whether Skruuia's bonus should affect wrinkler suck rate rather than wrinkler pop multiplier */\r\n\tskruuiaRebalance: boolean\r\n\r\n\t/** Whether to apply a graphical overhaul to the ascend meter */\r\n\timproveAscendMeter: boolean\r\n\r\n\t/** Whether to display seasonal requirements on related upgrades */\r\n\tdisplaySeasons: boolean\r\n\r\n\t/** Whether to give seasonal upgrades their own stats category */\r\n\tseparateSeasons: boolean\r\n\r\n\t/** Whether to show grandmas at work */\r\n\tbringGrandmaToWork: boolean\r\n\r\n\t/**\r\n\t * Whether to rework Cursed Finger to:\r\n\t * - Not snapshot\r\n\t * - Count as true passive CpS\r\n\t */\r\n\tcursedFinger: boolean\r\n\r\n\t/** Whether to apply experimental performance enhancements */\r\n\toptiCookies: boolean\r\n\r\n\t/** Whether to make stock brokers decrease Stock Market profits */\r\n\tdangerousBrokers: boolean\r\n\r\n\t/** Whether to allow certain heavenly upgrades to add their icons to the cookie pool */\r\n\theavenlyCookies: boolean\r\n\r\n\t/** Whether to make building price multipliers instead affect the price scaling */\r\n\tbuildingPriceBuff: boolean\r\n\r\n\t/** Exponent of 10 to aim for when the ascend meter fills */\r\n\t//ascendMeterPrecision: number\r\n\r\n\t/** Whether to fix the positioning of Timer.say for Game.Draw */\r\n\tdrawTimerFix: boolean\r\n\r\n\t/** Whether to use an alternative stock market layout */\r\n\talternateStockMarket: boolean\r\n\r\n\t/** Initializes to the default settings */\r\n\tconstructor() {\r\n\t\tthis.version = version;\r\n\t\tthis.autoScrollbar = true;\r\n\t\tthis.scrollingBuildings = true;\r\n\t\tthis.smoothBuildings = true;\r\n\t\tthis.buffTooltipDuration = true;\r\n\t\tthis.betterBuildingTooltips = true;\r\n\t\tthis.betterGrandmas = true;\r\n\t\tthis.separateTechs = true;\r\n\t\tthis.enhancedBulk = true;\r\n\t\tthis.buildingsBypassFancy = BypassFancySetting.Default;\r\n\t\tthis.cursorsBypassFancy = BypassFancySetting.Default;\r\n\t\tthis.wrinklersBypassFancy = BypassFancySetting.Default;\r\n\t\tthis.optimizeBuildings = false;\r\n\t\tthis.preserveWrinklers = false;\r\n\t\tthis.detailedCyclius = true;\r\n\t\tthis.zonedCyclius = false;\r\n\t\tthis.trueCyclius = false;\r\n\t\tthis.stockValueData = true;\r\n\t\tthis.dangerousStocks = false;\r\n\t\tthis.tooltipWobble = false;\r\n\t\tthis.fancyMilkSelect = true;\r\n\t\tthis.improveMagicMeter = true;\r\n\t\tthis.skruuiaRebalance = false;\r\n\t\tthis.improveAscendMeter = true;\r\n\t\tthis.displaySeasons = true;\r\n\t\tthis.separateSeasons = false;\r\n\t\tthis.bringGrandmaToWork = true;\r\n\t\tthis.cursedFinger = false;\r\n\t\tthis.optiCookies = false;\r\n\t\tthis.dangerousBrokers = false;\r\n\t\tthis.heavenlyCookies = true;\r\n\t\tthis.buildingPriceBuff = false;\r\n\t\t//this.ascendMeterPrecision = 0;\r\n\t\tthis.drawTimerFix = false;\r\n\t\tthis.alternateStockMarket = false;\r\n\t}\r\n\r\n\tset(setting: string, value: any) {\r\n\t\tif(typeof value == typeof this[setting]) this[setting] = value;\r\n\t}\r\n\r\n\tget(setting: string) {\r\n\t\treturn this[setting];\r\n\t}\r\n\r\n\tsave() {\r\n\t\treturn this;\r\n\t}\r\n\r\n\tload(obj: Settings) {\r\n\t\tif(!obj.version) return;\r\n\t\t// In the future, if settings change, test against save version\r\n\t\telse {\r\n\t\t\tloadData(obj, this);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport let settings = new Settings();","import { version } from \"./Vars\"\r\nimport { settings } from \"./Settings\"\r\nimport { loadData } from \"./Util\";\r\n\r\ninterface StockAverage {\r\n\tavgValue: number,\r\n\ttotalValue: number\r\n}\r\n\r\nexport class SaveData {\r\n\tversion: string\r\n\tstockAverages: StockAverage[]\r\n\tfrozenWrinks: Game.Wrinkler[]\r\n\r\n\tconstructor() {\r\n\t\tthis.version = version;\r\n\t\tthis.stockAverages = [];\r\n\t\tthis.frozenWrinks = null;\r\n\t}\r\n\r\n\tsave() {\r\n\t\tthis.cryosleepWrinklers();\r\n\t\treturn this;\r\n\t}\r\n\r\n\tload(obj: SaveData) {\r\n\t\tloadData(obj, this);\r\n\t\tthis.thawWrinklers();\r\n\t}\r\n\r\n\treset() {\r\n\t\tthis.stockAverages = [];\r\n\t\tthis.frozenWrinks = null;\r\n\t}\r\n\r\n\t/** Saves wrinklers to saveData if preserveWrinklers is on */\r\n\tcryosleepWrinklers() {\r\n\t\tif(settings.preserveWrinklers) {\r\n\t\t\tthis.frozenWrinks = Game.wrinklers\r\n\t\t} else {\r\n\t\t\tthis.frozenWrinks = null\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Attempts to restore wrinklers from cryosleep\r\n\t * Does not restore wrinklers if total sucked cookies > 0.1% difference\r\n\t * \r\n\t * @todo Add some kind of offline wrinkler support?\r\n\t */\r\n\tthawWrinklers() {\r\n\t\tif(settings.preserveWrinklers && this.frozenWrinks) {\r\n\t\t\tlet realWrinks = Game.wrinklers;\r\n\t\t\tlet currentWrinks = Game.SaveWrinklers();\r\n\t\t\tGame.wrinklers = this.frozenWrinks;\r\n\t\t\tlet thawedWrinks = Game.SaveWrinklers();\r\n\r\n\t\t\t// If our number of wrinklers has changed, don't run\r\n\t\t\tif(currentWrinks.number != thawedWrinks.number || currentWrinks.shinies != thawedWrinks.shinies)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\t// Update thawed wrinkler values for how long the game was running\r\n\t\t\tfor(let wrinkler of Game.wrinklers) {\r\n\t\t\t\tif(wrinkler.phase == 2) {\r\n\t\t\t\t\twrinkler.sucked += (Game.cookiesPs/Game.fps)*Game.cpsSucked*Game.loopT;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthawedWrinks = Game.SaveWrinklers();\r\n\r\n\t\t\tlet normalRatio = (currentWrinks.amount == 0 || thawedWrinks.amount == 0)\r\n\t\t\t\t? (currentWrinks.amount == thawedWrinks.amount ? 1 : 0)\r\n\t\t\t\t: Math.min(currentWrinks.amount/thawedWrinks.amount, thawedWrinks.amount/currentWrinks.amount);\r\n\t\t\tlet shinyRatio = (currentWrinks.amountShinies == 0 || thawedWrinks.amountShinies == 0) \r\n\t\t\t\t? (currentWrinks.amountShinies == thawedWrinks.amountShinies ? 1 : 0)\r\n\t\t\t\t: Math.min(currentWrinks.amountShinies/thawedWrinks.amountShinies, thawedWrinks.amountShinies/currentWrinks.amountShinies)\r\n\t\t\t//console.log(Game.T+' '+Game.loopT);\r\n\t\t\t//console.log(currentWrinks.amount + ' ' + thawedWrinks.amount);\r\n\t\t\t//console.log(normalRatio + ' ' + shinyRatio);\r\n\r\n\t\t\t// Allow wrinkler loading if values are within 1% of expected\r\n\t\t\tlet threshold = 0.99;\r\n\t\t\tif(normalRatio < threshold || shinyRatio < threshold) {\r\n\t\t\t\tGame.wrinklers = realWrinks;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport let saveData = new SaveData();","(function(e,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):(e=e||self,e.Cppkies=n())})(this,function(){'use strict';var R=Math.abs,F=Math.floor,H=Math.min,D=Math.pow,Y=Math.max;function e(e,n){function i(){this.constructor=e}K(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}function n(e,n,i,o){return new(i||(i=Promise))(function(a,r){function t(e){try{d(o.next(e))}catch(n){r(n)}}function s(e){try{d(o[\"throw\"](e))}catch(n){r(n)}}function d(e){e.done?a(e.value):new i(function(n){n(e.value)}).then(t,s)}d((o=o.apply(e,n||[])).next())})}function o(e,n){function i(e){return function(n){return o([e,n])}}function o(i){if(a)throw new TypeError(\"Generator is already executing.\");for(;c;)try{if(a=1,r&&(s=2&i[0]?r[\"return\"]:i[0]?r[\"throw\"]||((s=r[\"return\"])&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;switch((r=0,s)&&(i=[2&i[0],s.value]),i[0]){case 0:case 1:s=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if((s=c.trys,!(s=0<s.length&&s[s.length-1]))&&(6===i[0]||2===i[0])){c=0;continue}if(3===i[0]&&(!s||i[1]>s[0]&&i[1]<s[3])){c.label=i[1];break}if(6===i[0]&&c.label<s[1]){c.label=s[1],s=i;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(i);break}s[2]&&c.ops.pop(),c.trys.pop();continue;}i=n.call(e,c)}catch(n){i=[6,n],r=0}finally{a=s=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var a,r,s,d,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return d={next:i(0),throw:i(1),return:i(2)},\"function\"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d}function a(){for(var e=0,n=0,o=arguments.length;n<o;n++)e+=arguments[n].length;for(var t=Array(e),r=0,n=0;n<o;n++)for(var d=arguments[n],a=0,c=d.length;a<c;a++,r++)t[r]=d[a];return t}function r(e){return e.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g,\"\\\\$1\")}function t(e,n){var i=null===n[0],o=/(?:)/;null!==n[0]&&(o=\"string\"==typeof n[0]?new RegExp(r(n[0]),\"g\"):n[0],!o.test(e)&&console.warn(\"Nothing to inject.\"));var a=/(\\)[^{]*{)/,t=/(}?)$/;switch(n[2]){case\"before\":e=i?e.replace(a,\"$1\"+n[1]):e.replace(o,\"\"+n[1]+n[0]);break;case\"replace\":e=i?n[1]:e.replace(o,n[1]);break;case\"after\":e=i?e.replace(t,n[1]+\"$1\"):e.replace(o,\"\"+n[0]+n[1]);break;default:throw new Error(\"where Parameter must be \\\"before\\\", \\\"replace\\\" or \\\"after\\\"\");}return e}function s(e,n,i,o,r){void 0===r&&(r={});var s=Function.apply(void 0,a(Object.keys(r),[\"return (\"+t(e.toString(),[n,i,o])+\")\"])).apply(void 0,Object.values(r));return s.prototype=e.prototype,s}function d(e,n,i){void 0===i&&(i={});for(var o,r=e.toString(),s=0,d=n;s<d.length;s++)o=d[s],r=t(r,o);var c=Function.apply(void 0,a(Object.keys(i),[\"return (\"+r+\")\"])).apply(void 0,Object.values(i));return c.prototype=e.prototype,c}function c(e,n){for(var o in n)e[o]=n[o]}function u(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}function p(e,n){return e.hasOwnProperty(n)}function g(e){for(var n,i=[[1e3,\"M\"],[900,\"CM\"],[500,\"D\"],[400,\"CD\"],[100,\"C\"],[90,\"XC\"],[50,\"L\"],[40,\"XL\"],[10,\"X\"],[9,\"IX\"],[5,\"V\"],[4,\"IV\"],[1,\"I\"]],o=\"\",a=0,r=i;a<r.length;a++)for(n=r[a];e>=n[0];)o+=n[1],e-=n[0];return o}function m(e){switch(e){case\"mod\":return{achievements:{},buildings:{},upgrades:{}};case\"dragon\":return{level:\"sync\",auras:[\"sync\",\"sync\"]};case\"achievement\":return{won:!1};case\"upgrade\":return{bought:!1,unlocked:!1};case\"building\":return{amount:0,bought:0,free:0,totalCookies:0,level:0,muted:0,minigameSave:\"\"};default:throw new Error(\"Invalid fragment name!\");}}function k(){return{mods:{},foreign:m(\"mod\"),saveVer:1,dragon:m(\"dragon\")}}function b(){Ge.save=Q=k()}function h(e){return Q.foreign.buildings[e.name]||m(\"building\")}function v(e){var n=e.amount,i=e.bought,o=e.free,a=e.totalCookies,r=e.level,t=e.muted,s=e.minigameSave,d=e.name;Q.foreign.buildings[d]={amount:n,bought:i,free:o,totalCookies:a,level:r,muted:t,minigameSave:s}}function f(e){return Q.foreign.upgrades[e.name]||m(\"upgrade\")}function C(e){Q.foreign.upgrades[e.name]={unlocked:!!e.unlocked,bought:!!e.bought}}function y(e){return Q.foreign.achievements[e.name]||m(\"achievement\")}function L(e){Q.foreign.achievements[e.name]={won:!!e.won}}function O(){\"sync\"!==Q.dragon.level&&Q.dragon.level<=Game.dragonLevels.length-1&&(Game.dragonLevel=Q.dragon.level),\"sync\"!==Q.dragon.auras[0]&&Q.dragon.auras[0]<=Object.keys(Game.dragonAuras).length-1&&(Game.dragonAura=Q.dragon.auras[0]),\"sync\"!==Q.dragon.auras[1]&&Q.dragon.auras[1]<=Object.keys(Game.dragonAuras).length-1&&(Game.dragonAura2=Q.dragon.auras[1])}function A(){for(var e,n=0,i=Ge.customBuildings;n<i.length;n++)e=i[n],c(e,h(e));for(var o,a=0,r=Ge.customUpgrades;a<r.length;a++)o=r[a],c(o,f(o)),o.bought&&Game.CountsAsUpgradeOwned(o.pool)&&Game.UpgradesOwned++;for(var t,s=0,d=Ge.customAchievements;s<d.length;s++)t=d[s],c(t,y(t)),t.won&&Game.CountsAsAchievementOwned(t.pool)&&Game.AchievementsOwned++;O()}function w(){for(var e,n=0,i=Ge.customBuildings;n<i.length;n++)e=i[n],v(e);for(var o,a=0,r=Ge.customUpgrades;a<r.length;a++)o=r[a],C(o);for(var t,s=0,d=Ge.customAchievements;s<d.length;s++)t=d[s],L(t)}function j(e){var n=k();if(\"object\"!=typeof e||null===e)return n;if(!p(e,\"saveVer\")||\"number\"!=typeof e.saveVer||1<e.saveVer)return n;if(n.foreign=p(e,\"foreign\")?function(e){var n=m(\"mod\");if(\"object\"!=typeof e||null===e)return n;if(p(e,\"buildings\")&&\"object\"==typeof e.buildings&&null!==e.buildings)for(var i in e.buildings){var o=e.buildings[i];if(\"object\"==typeof o&&null!==o)for(var a in n.buildings[i]=m(\"building\"),o)typeof n.buildings[i][a]==typeof o[a]&&(n.buildings[i][a]=o[a])}if(p(e,\"upgrades\")&&\"object\"==typeof e.upgrades&&null!==e.upgrades)for(var r in e.upgrades){var t=e.upgrades[r];if(\"object\"==typeof t&&null!==t)for(var a in n.upgrades[r]=m(\"upgrade\"),n.upgrades[r])typeof n.upgrades[r][a]==typeof t[a]&&(n.upgrades[r][a]=t[a])}if(p(e,\"achievements\")&&\"object\"==typeof e.achievements&&null!==e.achievements)for(var s in e.achievements){var d=e.achievements[s];if(\"object\"==typeof d&&null!==d)for(var a in n.achievements[s]=m(\"achievement\"),n.achievements[s])typeof n.achievements[s][a]==typeof d[a]&&(n.achievements[s][a]=d[a])}return n}(e.foreign):m(\"mod\"),p(e,\"dragon\")&&\"object\"==typeof e.dragon&&null!==e.dragon&&(p(e.dragon,\"level\")&&(\"number\"==typeof e.dragon.level||\"sync\"===e.dragon.level)&&(n.dragon.level=e.dragon.level),p(e.dragon,\"auras\")&&e.dragon.auras instanceof Array))for(var o in e.dragon.auras){var i=e.dragon.auras[o];(\"number\"==typeof i||\"sync\"===i)&&(n.dragon.auras[o]=i)}return n}function S(e){var n;try{n=JSON.parse(e)}catch(n){\"\"!==e&&console.warn(\"CPPKIES: Found invalid save, creating new one...\"),b()}Q=Ge.save=j(n),A()}function T(){return w(),JSON.stringify(Q)}function U(e,n){Z[e]=n}function P(e){if(J.includes(e))throw new Error(\"Recursive alias\");return(J.push(e),e in Z)?P(Z[e]):(J=[],e)}function I(e){return new Promise(function(n){var i=new Image;i.addEventListener(\"load\",function(){n(i)}),i.crossOrigin=\"Anonymous\",i.src=e})}function M(e){return new Promise(function(n){e.canvas.toBlob(function(e){n(URL.createObjectURL(e))})})}function G(e,n,i,o,a,r){return new Promise(function(t){i[0]instanceof Array||(i=[i]),i=i;var s={};for(var d in i)for(var c in i[d])if(i[d][c]){if(i[d][c]=i[d][c].toString().toLowerCase(),!(i[d][c]in n))throw new Error(\"Invalid icon name\");s[i[d][c]]=[parseInt(c),parseInt(d)]}var u=document.createElement(\"canvas\").getContext(\"2d\"),p=new Image;p.addEventListener(\"load\",function(){for(var e in u.canvas.width=a[0],u.canvas.height=a[1],s)u.drawImage(p,s[e][0]*o[0],s[e][1]*o[1],o[0],o[1],n[e][0]*o[0],n[e][1]*o[1],o[0],o[1]);var i,d=function(){M(u).then(t)};r&&(i=r(u)),i instanceof Promise?i.then(d):d()}),p.crossOrigin=\"Anonymous\",p.src=e})}function _(e){return e=a(e),(void 0===e[2]||null===e[2])&&(e[2]=Ge.iconLink),e[2]=P(e[2]),e}function B(e){var n=new X,i=[new V(\"tooltip\",function(){e.tooltip=s(s(e.tooltip,\"return\",\"let tempRet = \",\"replace\"),null,\"\\n//Cppkies injection\\n\\t\\t\\t\\treturn Cppkies.buildingHooks[this.name].emit(\\\"tooltip\\\", tempRet)\",\"after\")}),new V(\"buy\",function(){e.buy=s(e.buy,null,\"\\n//Cppkies injection\\n\\t\\t\\t\\tif(success) {\\n\\t\\t\\t\\t\\tCppkies.buildingHooks[this.name].emit(\\\"buy\\\")\\n\\t\\t\\t\\t}\",\"after\")}),new V(\"levelUp\",function(){e.levelUp=s(e.levelUp,\"me.level+=1;\",\"\\n// Cppkies injection\\nCppkies.buildingHooks[me.name].emit(\\\"levelUp\\\")\",\"after\",{me:e})})];i.forEach(function(e){var n;null===(n=e.func)||void 0===n?void 0:n.call(e)}),Ge.hooks.on(\"buildingCps\",function(i){return{building:i.building,cps:Game.Objects[i.building]===e?n.emit(\"cps\",i.cps):i.cps}}),oe[e.name]=n}function N(){for(var e,n=0,i=Game.ObjectsById;n<i.length;n++)e=i[n],oe[e.name]||B(e)}function q(e){return\"fortune\"===e.tier}function E(e){for(var n,o=1,a=1;a<=e;a++)o+=null!==(n=me[a])&&void 0!==n?n:me[\"default\"];return 9*D(10,o)}function x(){Ge.on(\"getIcon\",function(e){var n=e.icon,i=e.type,o=e.tier;return Ge.customTiers.forEach(function(e){e.keyName===o.toString()&&e.iconLink&&(n[2]=e.iconLink)}),{icon:n,type:i,tier:o}}),Ge.on(\"getIcon\",function(e){var n=e.icon,i=e.type,o=e.tier;return Ge.customBuildings.forEach(function(e){e.name===i&&e.iconLink&&(n[2]=e.iconLink)}),{icon:n,tier:o,type:i}}),Ge.on(\"getIcon\",function(e){var n=e.icon,i=e.type,o=e.tier;return void 0!==n[2]&&null!==n[2]||p(Game.Tiers[o.toString()],\"iconLink\")||(n[2]=\"\"),{icon:n,tier:o,type:i}}),Ge.on(\"preSave\",function(){if(0!==Game.dragonAura&&(Q.dragon.auras[0]=\"sync\"),0!==Game.dragonAura2&&(Q.dragon.auras[1]=\"sync\"),Game.dragonAuras[Game.dragonAura]instanceof Ue&&(Q.dragon.auras[0]=Game.dragonAura,Game.dragonAura=0),Game.dragonAuras[Game.dragonAura2]instanceof Ue&&(Q.dragon.auras[1]=Game.dragonAura2,Game.dragonAura2=0),Game.dragonLevels[Game.dragonLevel]instanceof Pe||Game.dragonLevel>=$)for(Q.dragon.level=Game.dragonLevel;Game.dragonLevels[Game.dragonLevel]instanceof Pe||Game.dragonLevel>=$;)Game.dragonLevel--}),Ge.on(\"postSave\",function(){\"sync\"!==Q.dragon.auras[0]&&Game.dragonAuras[Q.dragon.auras[0]]&&(Game.dragonAura=Q.dragon.auras[0]),\"sync\"!==Q.dragon.auras[1]&&Game.dragonAuras[Q.dragon.auras[1]]&&(Game.dragonAura2=Q.dragon.auras[1]),\"sync\"!==Q.dragon.level&&Game.dragonLevels[Q.dragon.level]&&(Game.dragonLevel=Q.dragon.level)}),Ge.on(\"reset\",function(){Q.dragon.auras=[\"sync\",\"sync\"],Q.dragon.level=\"sync\"}),Ge.on(\"specialPic\",function(e){var n,i=Game.dragonLevels[Game.dragonLevel];return\"dragon\"===e.tab&&i instanceof Pe&&(e.pic=null!==(n=i.picLink)&&void 0!==n?n:e.pic),e})}var W,K=function(e,n){return K=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},K(e,n)},X=function(){function e(){this._events={}}return e.prototype.on=function(e,n){this._events[e]?this._events[e].push(n):this._events[e]=[n]},e.prototype.once=function(e,n){var i=this;this.on(e,function(o){return i.off(e,n),n(o)})},e.prototype.off=function(e,n){this._events[e].splice(this._events[e].indexOf(n),1)},e.prototype.emit=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=n[0];this._events[e]||(this._events[e]=[]);for(var a,r=0,t=this._events[e];r<t.length;r++)a=t[r],o=a(o);return o},e.prototype.constEmit=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];this._events[e]||(this._events[e]=[]);for(var o,a=0,r=this._events[e];a<r.length;a++)o=r[a],o(n[0])},e}(),V=function(){return function(e,n){this.value=e,this.func=n}}(),$=Game.dragonLevels.length+0,Q=k(),Z={},J=[],z={},ee={\"3d\":[0,21],milestone1:[0,22],milestone2:[0,23],milestone3:[0,24],krumblor:[0,25],level1:[0,26],level2:[0,27]},ne={},ie={research:[9,0],cookie:[10,0],mouse:[11,0],multicursor:[12,0],kitten:[18,0]},oe={},ae=[],re=function(n){function i(e,o,a,r,t,s,d,c,u,p){var g,m,k=this;if(Game.Objects[e])throw new Error(\"Can't create building, \\\"\"+e+\"\\\" is already used as a building name\");0!==r[1]&&console.warn(\"All icon sheets must follow an order, see https://cppkies.js.org/#/CommonProblems#IconOrder?id=relink-column\"),0!==t[0]&&console.warn(\"All big icon sheets must follow an order, see https://cppkies.js.org/#/CommonProblems#IconOrder?id=big-icons\"),k=n.call(this,e,o,a,t[1],r[0],s,0,d,c)||this,ae.push(k),oe[e]||B(k);var b=function(e){if(0>=parseInt(e))return\"continue\";var n=Game.ObjectsById[e];if(n.canvas=l(\"rowCanvas\"+e),!n.canvas)return\"continue\";if(n.ctx=n.canvas.getContext(\"2d\"),n.canvas.addEventListener(\"mouseover\",function(){n.mouseOn=!0}),n.canvas.addEventListener(\"mouseout\",function(){n.mouseOn=!1}),n.canvas.addEventListener(\"mousemove\",function(i){var e=n.canvas.getBoundingClientRect();n.mousePos[0]=i.pageX-e.left,n.mousePos[1]=i.pageY-e.top}),n.minigame&&n.minigameLoaded){var i=n.minigame.save();n.minigame.launch(),n.minigame.load(i)}};for(var v in Game.ObjectsById)b(v);k.buildingLink=null!==(g=t[2])&&void 0!==g?g:Ge.buildingLink,k.iconLink=P(null!==(m=r[2])&&void 0!==m?m:Ge.iconLink),u&&(Game.foolObjects[e]=u),p&&(Game.goldenCookieBuildingBuffs[e]=p),k.iconLink&&oe[k.name].on(\"tooltip\",function(e){return k.locked?e:e.replace(\"background-position\",\"background-image:url(\"+k.iconLink+\");background-position\")}),Game.BuildStore(),k.buildingLink&&Ge.hooks.on(\"buildStore\",function(){l(\"productIcon\"+k.id).style.backgroundImage=\"url(\"+k.buildingLink+\")\",l(\"productIconOff\"+k.id).style.backgroundImage=\"url(\"+k.buildingLink+\")\"}),Game.BuildStore(),k.canvas=l(\"rowCanvas\"+k.id),k.ctx=k.canvas.getContext(\"2d\"),k.pics=[];var f=document.createElement(\"div\");f.className=\"tinyProductIcon\",f.id=\"mutedProduct\"+k.id,f.style.display=\"none\",k.buildingLink&&(f.style.backgroundImage=\"url(\"+k.buildingLink+\")\"),f.style.backgroundPositionX=\"-\"+r[0]+\"px\",f.style.backgroundPositionY=\"-\"+r[1]+\"px\",f.addEventListener(\"click\",function(){k.mute(0),window.PlaySound(k.muted?\"snd/clickOff.mp3\":\"snd/clickOn.mp3\")}),window.AddEvent(k.canvas,\"mouseover\",function(){k.mouseOn=!0}),window.AddEvent(k.canvas,\"mouseout\",function(){k.mouseOn=!1}),k.canvas.addEventListener(\"mousemove\",function(n){var e=k.canvas.getBoundingClientRect();k.mousePos[0]=n.pageX-e.left,k.mousePos[1]=n.pageY-e.top}),l(\"buildingsMute\").appendChild(f);var C=h(k);for(var v in C)k[v]=C[v];return Game.recalculateGains=1,k}return e(i,n),i}(Game.Object),te=[],se=function(n){function i(e,o,a,r,t){void 0===t&&(t=function(){});var s=n.call(this,e,\"function\"==typeof o?\"\":o,\"function\"==typeof a?0:a,\"function\"==typeof r?[0,0]:_(r),t)||this;\"function\"==typeof o&&(s.descFunc=o),\"function\"==typeof a&&(s.priceFunc=a),\"function\"==typeof r&&(s.iconFunction=function(){return _(r())}),te.push(s);var d=f(s);for(var c in d)s[c]=d[c];return Game.upgradesToRebuild=1,s.bought&&Game.CountsAsUpgradeOwned(s.pool)&&Game.UpgradesOwned++,s}return e(i,n),i}(Game.Upgrade),de=function(n){function i(e,i,o,a,r,t,s){void 0===t&&(t=[\"Legacy\"]),void 0===s&&(s=function(){});var d=n.call(this,e,i,o,a,s)||this;return d.pool=\"prestige\",d.posX=r[0],d.posY=r[1],d.parents=t.map(function(e){return Game.Upgrades[e]||Game.UpgradesById[e]}),Game.PrestigeUpgrades.push(d),Game.UpgradePositions[d.id]=r,d}return e(i,n),i}(se),ce=function(n){function i(e,i,o,a){var r=this;return\"string\"==typeof o&&(o=Game.Objects[o]),r=n.call(this,e,u(o.plural)+\" are <b>twice</b> as efficient.<q>\"+i+\"</q>\",o.basePrice*Game.Tiers[a].price,Game.GetIcon(o.name,a))||this,Game.SetTier(o.name,a),r.buildingTie1=o,q(r)&&(r.order=19e3,o.fortune=r),isNaN(parseInt(a.toString()))||(a=parseInt(a.toString())),\"number\"==typeof a&&(r.order=100*(o.id+1)+r.id/1e3,r.order-=75*Y(0,H(o.id-4,3)),8<=o.id&&(r.order-=75)),\"fortune\"===a&&Game.Tiers[a].upgrades.push(r),o.buyFunction.apply(o),r}return e(i,n),i}(se),le=function(n){function i(e,i,o,r){var t=this;if(r){if(!r.endsWith(\".png\"))throw new Error(\"Can't use the grandma picture URL \\\"\"+r+\"\\\", URL must end with .png\");r=r.substring(0,r.length-4)}\"string\"==typeof o&&(o=Game.Objects[o]);var s=o.id-1;return 1===s?s=\"grandma\":s+=\" grandmas\",t=n.call(this,e,\"Grandmas are <b>twice</b> as efficient. \"+u(o.plural)+\" gain <b>+1% CpS</b> per \"+s+\".<q>\"+i+\"</q>\",o.basePrice*Game.Tiers[2].price,[10,9,\"\"],Game.Objects.Grandma.redraw)||this,o.grandma=t,t.buildingTie=o,t.order=250+t.id/1e3,12<=o.id&&(t.order+=5),Game.GrandmaSynergies.push(t.name),r&&Ge.hooks.on(\"grandmaPic\",function(e){return t.bought?a(e,[r]):e}),Game.Objects.Grandma.redraw(),o.buyFunction.apply(o),t}return e(i,n),i}(se),ue=function(n){function i(e,i,o,a,r){var t=this;\"string\"==typeof o&&(o=Game.Objects[o]),\"string\"==typeof a&&(a=Game.Objects[a]);var s=Game.GetIcon(o.name,r);if(o.basePrice>a.basePrice){var d=o;o=a,a=d}return t=n.call(this,e,u(o.plural)+\" gain <b>+5% CpS</b> per \"+a.name.toLowerCase()+\".<br>\"+u(a.plural)+\" gain <b>+0.1% CpS</b> per \\n\\t\\t\\t\"+o.name.toLowerCase()+\".<q>\"+i+\"</q>\",(10*o.basePrice+1*a.basePrice)*Game.Tiers[r].price,s)||this,t.tier=r,t.buildingTie1=o,t.buildingTie2=a,t.order=5e3+t.id/1e3,o.synergies.push(t),a.synergies.push(t),Game.Tiers[r].upgrades.push(t),Game.RebuildUpgrades(),o.buyFunction.apply(o),t}return e(i,n),i}(se),pe=[5,7,8,9,10],ge=function(n){function i(e,i,o,a){void 0===a&&(a=20);var r=this,t=Game.Objects.Cursor,s=parseInt(o.toString());return r=n.call(this,e,\"Multiplies the gain from Thousand fingers by <b>\"+a+\"</b>.<q>\"+i+\"</q>\",Game.Tiers[o].special||isNaN(s)?t.basePrice*Game.Tiers[o].price:D(10,pe[H(s-4,pe.length-1)]+3*Y(s-8,0)),Game.GetIcon(t.name,o))||this,r.tier=o,r.pool=\"\",r.order=100+r.id/1e3,Ge.on(\"cursorFingerMult\",function(e){return r.bought?e*a:e}),Game.Tiers[o].special||isNaN(s)||Ge.buildingHooks.Cursor.on(\"buy\",function(){t.amount>=(4===s?25:50*(s-4))&&Game.Unlock(r.name)}),\"fortune\"===o&&Game.Tiers[o].upgrades.push(r),Game.Objects.Cursor.buyFunction.apply(Game.Objects.Cursor),r}return e(i,n),i}(se),me={1:5,2:4,4:4,default:3},ke=[.1,.125,.15,.175,.2,.2,.2,.2,.2,.175,.15,.125,.115],be=function(n){function i(e,i,o,a,r,t){void 0===a&&(a=Game.Tiers[o].special||isNaN(parseInt(o.toString()))?null:ke[(parseInt(o.toString())-1)%(ke.length-1)]),void 0===t&&(t=Game.Tiers[o].special||isNaN(parseInt(o.toString()))?null:1===o?.5:o-1);var s=n.call(this,e,\"You gain <b>more CpS</b> the more milk you have.<q>\"+i+\"</q>\",Game.Tiers[o].special||isNaN(parseInt(o.toString()))?null!==r&&void 0!==r?r:0:E(o),Game.GetIcon(\"Kitten\",o))||this;return s.tier=o,s.kitten=!0,s.pool=\"\",null===a&&console.warn(\"Please make sure to specify the power if the kitten tier is special\"),(Game.Tiers[o].special||isNaN(parseInt(o.toString())))&&void 0===r&&console.warn(\"Please make sure to specify the cost if the kitten tier is special\"),null!==t&&Ge.on(\"logic\",function(){Game.milkProgress>=t&&Game.Unlock(s.name)}),s.order=2e4+s.id/1e3,null!==a&&Ge.on(\"rawCpsMult\",function(e){var n=s.bought?1+Game.milkProgress*a*Ge.hiddenMilkMult:1;return Game.cookiesMultByType.kittens*=n,e*n}),Game.UpgradesByPool.kitten.push(s),\"fortune\"===o&&Game.Tiers[o].upgrades.push(s),s}return e(i,n),i}(se),he=function(n){function i(e,i,o,a){void 0===a&&(a=1);var r=n.call(this,e,\"Clicking gains <b>+\"+a+\"% of your CpS</b>.<q>\"+i+\"</q>\",D(10,3+2*parseInt(o.toString())),Game.GetIcon(\"Mouse\",o))||this;r.tier=o,r.pool=\"\";var t=parseInt(o.toString());return r.order=150+r.id/1e3,Ge.on(\"cpcAdd\",function(e){return r.bought?e+Game.cookiesPs*a/100:e}),Game.Tiers[o].special||isNaN(t)||Ge.on(\"check\",function(){Game.handmadeCookies>=D(10,1+2*t)&&Game.Unlock(r.name)}),\"fortune\"===o&&Game.Tiers[o].upgrades.push(r),r}return e(i,n),i}(se),ve=function(n){function i(e,i,o,a,r,t,s){var d,c=n.call(this,e,\"Cookie production multiplier <b>+\"+Beautify(\"function\"==typeof r?r():r,1)+\"%</b>.<q>\"+i+\"</q>\",o,a)||this;return c.power=r,c.pool=\"cookie\",c.order=(null!==(d=null!==s&&void 0!==s?s:Ge.cookieOrder)&&void 0!==d?d:10020)+c.id/1e3,c.unlockAt={name:e,cookies:(\"function\"==typeof o?o():o)/20,require:null===t||void 0===t?void 0:t.require,season:null===t||void 0===t?void 0:t.season},Game.UnlockAt.push(c.unlockAt),Game.UpgradesByPool.cookie.push(c),Game.cookieUpgrades.push(c),c}return e(i,n),i}(se),fe=[],Ce=function(){return function(e,n,i,o,a,r,t,s,d){void 0===o&&(o=!1),void 0===a&&(a=\"auto\"),void 0===r&&(r=null),void 0===t&&(t=null),void 0===s&&(s=null),void 0===d&&(d=\"auto\");var c;this.name=e,this.color=i,this.special=o,this.keyName=\"auto\"===d?o?e:(Object.keys(Game.Tiers).filter(function(e){return!isNaN(parseInt(e))}).length+1).toString():d,null===r&&(this.unlock=-1),\"number\"==typeof r&&(this.unlock=r),(!1===o&&null===r||\"auto\"===r)&&(this.unlock=Game.Tiers[parseInt(this.keyName)-1].unlock+50),\"number\"==typeof t&&(this.achievUnlock=t),(!1===o&&null===t||\"auto\"===t)&&(this.achievUnlock=Game.Tiers[parseInt(this.keyName)-1].achievUnlock+50),s&&(this.req=s),this.price=\"auto\"===a?1e8*Game.Tiers[Object.keys(Game.Tiers).filter(function(e){return!isNaN(parseInt(e))}).length.toString()].price:a,this.iconRow=n[1],this.iconLink=P(null!==(c=n[2])&&void 0!==c?c:Ge.iconLink),Game.Tiers[this.keyName]=this,fe.push(this)}}(),ye=[],Le=function(n){function i(e,i,o){var a=n.call(this,e,i,_(o))||this;return c(a,y(a)),ye.push(a),a.won&&Game.CountsAsAchievementOwned(a.pool)&&Game.AchievementsOwned++,a}return e(i,n),i}(Game.Achievement),Oe=function(n){function i(e,i,o,a){void 0===a&&(a=D(10,F(1.5*Game.BankAchievements.length+2)));var r=n.call(this,e,\"Bake <b>\"+toFixed(a)+\"</b> cookie\"+(1===R(a)?\"\":\"s\")+\" in one ascension.\"+(o?\"<q>\"+o+\"</q>\":\"\"),i)||this;return r.treshold=a,r.order=100+.01*Game.BankAchievements.length,Game.BankAchievements.push(r),r}return e(i,n),i}(Le),Ae=function(n){function i(e,i,o,a){void 0===a&&(a=D(10,F(1.2*Game.BankAchievements.length)));var r=n.call(this,e,\"Bake <b>\"+toFixed(a)+\"</b> cookie\"+(1===R(a)?\"\":\"s\")+\" per second.\"+(o?\"<q>\"+o+\"</q>\":\"\"),i)||this;return r.treshold=a,r.order=200+.01*Game.CpsAchievements.length,Game.CpsAchievements.push(r),r}return e(i,n),i}(Le),we=function(n){function i(e,i,o,a){var r=this,t=\"object\"==typeof o?o:Game.Objects[o],s=null,d=-1;if(0===t.id){switch(a){case\"cursor2\":s=[0,6],d=2;break;case\"cursor50\":s=[1,6],d=50;break;default:if(0>=Game.Tiers[a].achievUnlock){console.warn(\"Tier has invalid unlock amount\");break}d=1===a?1:2*Game.Tiers[a].achievUnlock;}Ge.buildingHooks.Cursor.on(\"buy\",function(){Game.Objects.Cursor.amount>=d&&Game.Win(r.name)})}else d=Game.Tiers[a].achievUnlock;return r=n.call(this,e,\"Have <b>\"+d+\"</b> \"+(1===R(d)?t.single:t.plural)+\".\"+(i?\"<q>\"+i+\"</q>\":\"\"),null!==s&&void 0!==s?s:Game.GetIcon(t.name,a))||this,Game.SetTier(t.name,\"cursor2\"===a||\"cursor50\"===a?1:a),t.tieredAchievs[a]=r,r.buildingTie=t,r.order=1e3+100*t.id+r.id/1e3,r.order-=75*Y(0,H(t.id-4,3)),8<=t.id&&(r.order-=75),0===t.id&&(r.order+=50),r}return e(i,n),i}(Le),je=function(n){function i(e,i,o,a,r){var t=this;\"string\"==typeof i&&(i=Game.Objects[i]);var s=[i.iconColumn,21+o,i instanceof re?i.iconLink:void 0],d=D(10,12+i.id+(null!==r&&void 0!==r?r:0)+7*(o-1));return t=n.call(this,e,\"Make <b>\"+toFixed(d)+\"</b> cookies just from \"+i.plural+\".\"+(a?\"<q>\"+a+\"</q>\":\"\"),s)||this,t.order=1020+100*i.id+t.id/1e3,t.order-=75*Y(0,H(i.id-4,3)),8<=i.id&&(t.order-=75),0===i.id&&(t.order+=50),i.productionAchievs.push({pow:d,achiev:t}),t}return e(i,n),i}(Le),Se=function(n){function i(e,i,o){var a=this;\"string\"==typeof i&&(i=Game.Objects[i]);var r=[i.iconColumn,26,i instanceof re?i.iconLink:void 0];return a=n.call(this,e,\"Reach level <b>10</b> \"+i.plural+\".\"+(o?\"<q>\"+o+\"</q>\":\"\"),r)||this,a.order=1020+100*i.id+a.id/1e3,a.order-=75*Y(0,H(i.id-4,3)),8<=i.id&&(a.order-=75),0===i.id&&(a.order+=50),i.levelAchiev10=a,a}return e(i,n),i}(Le),Te=function(n){function i(e,i,o){var a=this,r=parseInt(i.toString());return a=n.call(this,e,\"Make <b>\"+toFixed(D(10,1+2*r))+\"</b> cookies from clicking.\"+(o?\"<q>\"+o+\"</q>\":\"\"),Game.GetIcon(\"Mouse\",i))||this,a.pool=\"normal\",a.tier=i,a.order=1e3+a.id/1e3,Game.Tiers[i].special||isNaN(r)||Ge.on(\"check\",function(){Game.handmadeCookies>=D(10,1+2*r)&&Game.Win(a.name)}),a}return e(i,n),i}(Le),Ue=function(){function e(e,n,i){this.name=e,this.desc=n,\"string\"==typeof i&&(i=Game.Objects[i]),this.pic=i instanceof Game.Object?_([i.iconColumn,25,i instanceof re?i.iconLink:void 0]):i,Game.dragonAuras[Object.keys(Game.dragonAuras).length]=this,\"sync\"!==Q.dragon.auras[0]&&Object.keys(Game.dragonAuras).length>=Q.dragon.auras[0]&&(Game.dragonAura=Q.dragon.auras[0]),\"sync\"!==Q.dragon.auras[1]&&Object.keys(Game.dragonAuras).length>=Q.dragon.auras[1]&&(Game.dragonAura2=Q.dragon.auras[1])}return e}(),Pe=function(){function e(n,i,o,a,r,t,s){void 0===s&&(s=Game.dragonLevels.length-3),this.buy=r,this.picY=0;var d=Game.dragonLevels[s-1];this.name=null!==n&&void 0!==n?n:d.name,this.action=i,this.costStr=\"string\"==typeof o?function(){return o}:o,this.cost=a,t?(this.pic=t[0],this.picY=t[1],0!==this.picY&&console.warn(\"For now, all dragon levels must not use pic Y, sorry.\"),this.picLink=t[2]):(this.pic=d.pic,d instanceof e&&(this.picY=d.picY,this.picLink=d.picLink)),Game.dragonLevels.splice(s,0,this),\"sync\"!==Q.dragon.level&&Game.dragonLevels.length>=Q.dragon.level&&(Game.dragonLevel=Q.dragon.level)}return e}(),Ie=function(n){function i(e,i,o){var a=this;return\"string\"==typeof o&&(o=Game.Objects[o]),a=n.call(this,null,\"Train \"+e+\"<br/><small>Aura : \"+i+\"</small>\",\"100 \"+o.plural,function(){return 100<=o.amount},function(){return o.sacrifice(100)})||this,a}return e(i,n),i}(Pe),Me=function(){return function(e,n,i,o){if(void 0===o&&(o=!1),this.name=e,this.pic=i,this.special=o,!i.endsWith(\".png\"))throw new Error(\"Can't create milk with the milk URL \\\"\"+i+\"\\\", the URL must end with .png!\");o||(this.name=\"Rank \"+g(Game.Milks.length+1)+\" - \"+e),this.pic=i.substr(0,i.length-4),_(n),this.icon=[n[0],n[1]],this.iconLink=n[2],o?Game.MilksByChoice[Object.keys(Game.MilksByChoice).length]=this:Game.Milks.push(this)}}(),Ge={hooks:null,on:null,hiddenMilkMult:1,iconLink:\"\",buildingLink:\"\",cookieOrder:10020,buildingHooks:oe,buildingHooksById:[],hookAllBuildings:N,customBuildings:ae,customUpgrades:te,customTiers:fe,save:Q,onLoad:[],Building:re,Upgrade:se,TieredUpgrade:ce,Tier:Ce,HeavenlyUpgrade:de,GrandmaSynergy:le,SynergyUpgrade:ue,CursorUpgrade:ge,KittenUpgrade:be,MouseUpgrade:he,CookieUpgrade:ve,Achievement:Le,CpsAchievement:Ae,BankAchievement:Oe,TieredAchievement:we,ProductionAchievement:je,Level10Achievement:Se,MouseAchievement:Te,customAchievements:ye,DragonAura:Ue,DragonLevel:Pe,DragonAuraLevel:Ie,Milk:Me,injectCode:s,injectCodes:d,DEFAULT_ONBUY:function(){Game.UnlockTiered(this),this.amount>=Game.SpecialGrandmaUnlock&&0<Game.Objects.Grandma.amount&&this.grandma&&Game.Unlock(this.grandma.name)},DEFAULT_CPS:function(e){return Game.GetTieredCpsMult(e)*Game.magicCpS(e.name)*e.baseCps},icons:{relinkColumn:function(e,a,r,t){return void 0===t&&(t=!1),n(this,void 0,void 0,function(){var n,s,s,d,c;return o(this,function(i){switch(i.label){case 0:for(s in void 0===r&&(!z[e]&&(z[e]=0),r=z[e]++),n={},ee)n[s]=[r,ee[s][1]];for(s in Game.Tiers)n[Game.Tiers[s].name.toLowerCase()]=n[s.toString()]=[r,Game.Tiers[s].iconRow];return d=U,c=[e],[4,G(t?P(e):e,n,a,[48,48],[48*(r+1),48*(Object.values(n).reduce(function(e,n){return Y(e,n[1])},-Infinity)+1)],function(n){return new Promise(function(i){if(P(e)!==e){var o=new Image;o.addEventListener(\"load\",function(){n.drawImage(o,0,0),i()}),o.src=P(e),o.crossOrigin=\"Anonymous\"}else i()})})];case 1:return d.apply(void 0,c.concat([i.sent()])),[2];}})})},relinkRow:function(e,a,r,t){return void 0===t&&(t=!1),n(this,void 0,void 0,function(){var n,s,s,d,c;return o(this,function(i){switch(i.label){case 0:for(s in void 0===r&&(!ne[e]&&(ne[e]=0),r=ne[e]++),n={},ie)n[s]=[ie[s][0],r];for(s in Game.ObjectsById)n[Game.ObjectsById[s].single.toLowerCase()]=n[s]=[Game.ObjectsById[s].iconColumn,r];return d=U,c=[e],[4,G(t?P(e):e,n,a,[48,48],[48*(Object.values(n).reduce(function(e,n){return Y(e,n[0])},-Infinity)+1),48*(r+1)],function(n){return new Promise(function(i){if(P(e)!==e){var o=new Image;o.addEventListener(\"load\",function(){n.drawImage(o,0,0),i()}),o.src=P(e),o.crossOrigin=\"Anonymous\"}else i()})})];case 1:return d.apply(void 0,c.concat([i.sent()])),[2];}})})},patchIconsheet:function(e,i,a){var r;return void 0===a&&(a=!0),n(this,void 0,void 0,function(){var n,t,s,d,c,u,p,g,m,k,b,h,v,f,C;return o(this,function(o){switch(o.label){case 0:return n=document.createElement(\"canvas\").getContext(\"2d\"),[4,I(a?P(e):e)];case 1:for(t=o.sent(),s=[t.width,t.height],(d=0,c=i);d<c.length;d++)u=c[d],48*u[0][0]>s[0]&&(s[0]=48*u[0][0]),48*u[0][1]>s[1]&&(s[1]=48*u[0][1]);n.canvas.width=s[0],n.canvas.height=s[1],n.drawImage(t,0,0),p={},g=0,m=i,o.label=2;case 2:return g<m.length?(k=m[g],b=P((null!==(r=k[1][2])&&void 0!==r?r:Ge.iconLink)||\"img/icons.png\"),!!p[b])?[3,4]:(h=p,v=b,[4,I(b)]):[3,6];case 3:h[v]=o.sent(),o.label=4;case 4:n.clearRect(48*k[0][0],48*k[0][1],48,48),n.drawImage(p[b],48*k[1][0],48*k[1][1],48,48,48*k[0][0],48*k[0][1],48,48),o.label=5;case 5:return g++,[3,2];case 6:return f=U,C=[e],[4,M(n)];case 7:return f.apply(void 0,C.concat([o.sent()])),[2];}})})},extraColumnIcons:ee,extraRowIcons:ie,alias:U,aliases:Z}};window.Cppkies?W=window.Cppkies:(W=Ge,window.Cppkies=W,function(){return new Promise(function(e){var n=new X,i=[new V(\"customMenu\",function(){Game.UpdateMenu=s(Game.UpdateMenu,null,\"\\n\\t\\t\\t\\t\\t// Cppkies injection\\n\\t\\t\\t\\t\\tswitch (Game.onMenu) {\\n\\t\\t\\t\\t\\t\\tcase \\\"prefs\\\":\\n\\t\\t\\t\\t\\t\\t\\tCppkies.hooks.emit(\\\"optionsMenu\\\")\\n\\t\\t\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\t\\t\\tcase \\\"stats\\\":\\n\\t\\t\\t\\t\\t\\t\\tCppkies.hooks.emit(\\\"statsMenu\\\")\\n\\t\\t\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\t\\t\\tcase \\\"log\\\":\\n\\t\\t\\t\\t\\t\\t\\tCppkies.hooks.emit(\\\"logMenu\\\")\\n\\t\\t\\t\\t\\t\\t\\tbreak\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tCppkies.hooks.emit(\\\"menu\\\")\\n\\t\\t\\t\\t\\t\",\"after\")}),new V(\"preSave\",function(){Game.WriteSave=s(Game.WriteSave,null,\"\\n\\t\\t\\t\\t\\t// Cppkies injection\\n\\t\\t\\t\\t\\tCppkies.hooks.emit(\\\"preSave\\\")\\n\\t\\t\\t\\t\\t\",\"before\")}),new V(\"postSave\",function(){Game.WriteSave=s(Game.WriteSave,\"if (type==2 || type==3)\",\"\\n\\t\\t\\t\\t\\t// Cppkies injection\\n\\t\\t\\t\\t\\tCppkies.hooks.emit(\\\"postSave\\\")\\n\\t\\t\\t\\t\\t\",\"before\")}),new V(\"reset\",function(){Game.Reset=s(Game.Reset,null,\"\\n\\t\\t\\t\\t\\t// Cppkies injection\\n\\t\\t\\t\\t\\tCppkies.hooks.constEmit(\\\"reset\\\", hard)\\n\\t\\t\\t\\t\\t\",\"before\")}),new V(\"reincarnate\",function(){Game.registerHook(\"reincarnate\",function(){return n.emit(\"reincarnate\")})}),new V(\"getIcon\",function(){Game.GetIcon=d(Game.GetIcon,[[\"return [col,Game.Tiers[tier].iconRow];\",\"// Cppkies Injection\\n\\t\\t\\t\\t\\treturn Cppkies.hooks.emit(\\\"getIcon\\\", { icon: [col, Game.Tiers[tier].iconRow], tier: tier, type: type }).icon\",\"replace\"],[\"col=18;\",\"else if (type === \\\"Mouse\\\") col = 11;\",\"after\"]])}),new V(\"buildStore\",function(){Game.BuildStore=s(Game.BuildStore,null,\";\\nCppkies.hooks.emit(\\\"buildStore\\\")\",\"after\")}),new V(\"grandmaPic\",function(){Game.Objects.Grandma.art.pic=s(Game.Objects.Grandma.art.pic,\"return choose(list)+'.png'\",\"// Cppkies injection\\n\\t\\t\\t\\t\\tlist = Cppkies.hooks.emit(\\\"grandmaPic\\\", list)\\n\\t\\t\\t\\t\\t\",\"before\")}),new V(\"cps\",function(){Game.CalculateGains=d(Game.CalculateGains,[[\"var rawCookiesPs=Game.cookiesPs*mult;\",\"// Cppkies injection\\n\\t\\t\\t\\t\\tGame.cookiesPs = Cppkies.hooks.emit(\\\"rawCps\\\", Game.cookiesPs);\\n\\t\\t\\t\\t\\tmult = Cppkies.hooks.emit(\\\"rawCpsMult\\\", mult);\\n\",\"before\"],[\"Game.cookiesPs=Game.runModHookOnValue('cps',Game.cookiesPs);\",\"// Cppkies injection\\n\\t\\t\\t\\t\\t\\tmult = Cppkies.hooks.emit(\\\"cpsMult\\\", mult);\\n\",\"before\"]]),Game.registerHook(\"cps\",function(e){return n.emit(\"cps\",e)})}),new V(\"cursorFingerMult\",function(){Game.Objects.Cursor.cps=s(Game.Objects.Cursor.cps,\"var mult=1;\",\"// Cppkies injection\\nadd = Cppkies.hooks.emit(\\\"cursorFingerMult\\\", add);\\n\",\"before\")}),new V(\"cpc\",function(){Game.mouseCps=d(Game.mouseCps,[[\"var num=0;\",\"// Cppkies injection\\n\\t\\t\\t\\t\\t\\tadd = Cppkies.hooks.emit(\\\"cursorFingerMult\\\", add);\\n\",\"before\"],[\"var out\",\"// Cppkies injection\\n\\t\\t\\t\\t\\t\\tadd = Cppkies.hooks.emit(\\\"cpcAdd\\\", add);\\n\",\"before\"]]),Game.registerHook(\"cookiesPerClick\",function(e){return n.emit(\"cpc\",e)})}),new V(\"buildingCps\",function(){Game.CalculateGains=s(Game.CalculateGains,\"me.storedTotalCps=me.amount*me.storedCps;\",\"// Cppkies injection (internal, do not use)\\nme.storedCps = Cppkies.hooks.emit(\\\"buildingCps\\\", { building: i, cps: me.storedCps }).cps;\\n\",\"before\")}),new V(\"logic\",function(){Game.registerHook(\"logic\",function(){return n.emit(\"logic\")})}),new V(\"draw\",function(){Game.registerHook(\"draw\",function(){return n.emit(\"draw\")})}),new V(\"check\",function(){Game.registerHook(\"check\",function(){return n.emit(\"check\")})}),new V(\"ticker\",function(){Game.getNewTicker=s(Game.getNewTicker,\"Game.TickerAge=Game.fps*10;\",\"// Cppkies injection\\nlist = Cppkies.hooks.emit(\\\"ticker\\\", list);\\n\",\"before\")}),new V(\"specialPic\",function(){Game.DrawSpecial=s(Game.DrawSpecial,\"if (hovered || selected)\",\"// Cppkies injection\\nconst override = Cppkies.hooks.emit(\\\"specialPic\\\", {tab: Game.specialTabs[i], frame: frame, pic: pic})\\npic = override.pic\\nframe = override.frame;\\n\",\"before\"),Game.ToggleSpecialMenu=s(Game.ToggleSpecialMenu,\"else {pic='dragon.png?v='+Game.version;frame=4;}\",\"// Cppkies injection\\nconst override = Cppkies.hooks.emit(\\\"specialPic\\\", {tab: Game.specialTab, frame: frame, pic: pic})\\npic = override.pic\\nframe = override.frame;\\n\",\"after\")})];i.forEach(function(e){var n;null===(n=e.func)||void 0===n?void 0:n.call(e)}),Game.Loader.Load=s(Game.Loader.Load,\"img.src=this.domain\",\"\\n\\t\\t\\t// Cppkies injection\\n\\t\\t\\timg.src = (assets[i].indexOf('http') !== -1 ? \\\"\\\" : this.domain)\\n\",\"replace\"),Game.UpdateMenu=d(Game.UpdateMenu,[[\"url(img/'+milk.pic+'.png)\",\"url(' + (milk.pic.indexOf('http') >= 0 ? milk.pic : 'img/'+milk.pic) + '.png)\",\"replace\"],[\"img/icons.png?v='+Game.version+'\",\"' + (Game.Milks[i].iconLink ? Game.Milks[i].iconLink : 'img/icons.png?v='+Game.version) + '\",\"replace\"]]),Game.ToggleSpecialMenu=d(Game.ToggleSpecialMenu,[[\">=5\",\">=Game.dragonLevels.findIndex(val => val.name === \\\"Krumblor, cookie hatchling\\\")\",\"replace\"],[\">=25\",\">=Game.dragonLevels.findIndex(val => val.action === \\\"Train secondary aura<br><small>Lets you use two dragon auras simultaneously</small>\\\") + 1\",\"replace\"]]),Game.Objects.Cursor.buyFunction=s(Game.Objects.Cursor.buyFunction,\"Game.Unlock('Octillion fingers');\",\"\\n \\t\\t\\t// Cppkies injection\\n\\t\\t\\tfor(const i in this.tieredUpgrades) {\\n\\t\\t\\t\\tif (isNaN(parseInt(i))) continue\\n\\t\\t\\t\\tif (this.amount >= Game.Tiers[this.tieredUpgrades[i].tier].unlock - 50) this.tieredUpgrades[i].unlock()\\n\\t\\t\\t}\\n\",\"after\"),Game.Object=s(Game.Object,\"Game.ObjectsN++\",\"\\n// Cppkies injection\\nCppkies.hookAllBuildings();\\n\",\"after\"),Game.CalculateGains=s(Game.CalculateGains,\"var catMult=1;\",\"// Cppkies injection\\n\\t\\t\\tCppkies.hiddenMilkMult = milkMult;\\n\",\"before\"),e(n)})}().then(function(e){W.hooks=e,W.on=e.on.bind(e),Game.Notify(\"Cppkies loaded!\",\"\",[32,17],1.5);var n=document.createElement(\"div\");n.textContent=\"Cppkies!\",document.querySelector(\"#topBar\").insertBefore(n,document.querySelector(\"#topBar\").children[1]),Game.modSaveData.cppkies||(Game.modSaveData.cppkies=\"{}\"),Game.registerMod(\"cppkies\",{save:T,load:S}),Game.Win(\"Third-party\"),N(),Ge.onLoad.forEach(function(e){return e()}),Ge.onLoad=new Proxy(Ge.onLoad,{set:function(e,n,i){return\"length\"!==n&&i(),!0}}),window.CPPKIES_ONLOAD||(window.CPPKIES_ONLOAD=[]),window.CPPKIES_ONLOAD.forEach(function(e){return e()}),window.CPPKIES_ONLOAD=new Proxy(Ge.onLoad,{set:function(e,n,i){return\"length\"!==n&&i(),!0}}),x()}));var _e=W;return _e});\n//# sourceMappingURL=index.js.map\n","import * as Util from './Util'\r\nimport { settings } from './Settings'\r\nimport { vars } from './Vars'\r\nimport Cppkies, { InjectParams } from 'cppkies'\r\n\r\nexport class Patch {\r\n\tpatchFunc: () => void\r\n\tremoveFunc: () => void\r\n\tapplied: boolean\r\n\tconstructor(patchFunc: () => void, removeFunc?: () => void) {\r\n\t\tthis.patchFunc = patchFunc;\r\n\t\tthis.removeFunc = removeFunc;\r\n\t\tthis.applied = false;\r\n\t}\r\n\tapply() {\r\n\t\tif(this.applied) return;\r\n\t\tthis.applied = true;\r\n\t\tthis.patchFunc();\r\n\t}\r\n\tremove() {\r\n\t\tif(!this.applied || !this.removeFunc) return;\r\n\t\tthis.applied = false;\r\n\t\tthis.removeFunc();\r\n\t}\r\n\ttoggle(force?: boolean) {\r\n\t\tlet toState = !this.applied;\r\n\t\tif(typeof force != 'undefined') toState = force;\r\n\t\tif(toState) this.apply();\r\n\t\telse this.remove();\r\n\t}\r\n}\r\n\r\n/** Toggles the center view's scrollbar style */\r\nexport let scrollbarStyle = new Patch(\r\n\t() => Util.scrollbarStyle('auto'),\r\n\t() => Util.scrollbarStyle('scroll')\r\n)\r\n\r\n/** Patches DrawBuildings to perform the smoothBuildings setting */\r\nexport let smoothBuildings = new Patch(function() {\r\n\tGame.DrawBuildings = Cppkies.injectCode(Game.DrawBuildings,\r\n\t\t'Game.drawT%3==0',\r\n\t\t'OmniCookies.settings.smoothBuildings || ',\r\n\t\t'before'\r\n\t)\r\n})\r\n\r\n/** \r\n * Patches buildings to support the scroll feature.  \r\n * Also contains the necessary patches for BYGTWD.  \r\n * Because reasons.\r\n */\r\nexport let scrollingBuildings = new Patch(function() {\r\n\tlet drawPattern: InjectParams[] = [\r\n\t\t[   // Resize the canvas when it actually needs to\r\n\t\t\t'if (this.toResize)',\r\n\t\t\t'if (this.toResize || this.canvas.width != this.canvas.clientWidth || this.canvas.height != this.canvas.clientHeight)',\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Force draw on resize\r\n\t\t\t'this.toResize=false;',\r\n\t\t\t'$&;this.forceDraw=true;',\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Do some tracking and determine whether this canvas actually needs to redraw\r\n\t\t\t`if (typeof(bg)=='string') ctx.fillPattern`,\r\n\t\t\t`let synergyAmount = OmniCookies.settings.bringGrandmaToWork ? OmniCookies.Util.getNumSynergyGrandmas(this) : -1;\r\n\t\t\tif(OmniCookies.settings.optimizeBuildings && !this.hasUnloadedImages && !this.forceDraw && !this.lastMouseOn && !this.mouseOn && (this.lastAmount == this.amount) && (this.name == 'Grandma' ? true : this.lastSynergyAmount == synergyAmount)) return;\r\n\t\t\tthis.forceDraw = false;\r\n\t\t\tthis.lastAmount = this.amount;\r\n\t\t\tthis.lastMouseOn = this.mouseOn;\r\n\t\t\tthis.lastSynergyAmount = synergyAmount;\r\n\t\t\tthis.hasUnloadedImages = Game.Loader.assetsLoaded.indexOf(this.art.bg) == -1;\r\n\t\t\tlet hasGrandmas = false;\\n`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Check for unloaded building pics\r\n\t\t\t'var sprite=Pic(pic.pic);',\r\n\t\t\t'\\nthis.hasUnloadedImages = this.hasUnloadedImages || sprite == Game.Loader.blank;',\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Scroll the background with the scroll offset\r\n\t\t\t'0,0,this.canvas.width,this.canvas.height,128,128',\r\n\t\t\t',-this.scrollOffX',\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Modify building image bounds based on scroll offset\r\n\t\t\t'var maxI=Math.floor(this.canvas.width',\r\n\t\t\t`var minI=Math.max(0, Math.floor((-50 + this.scrollOffX) / (w/rows)));\r\n\t\t\tvar maxI=Math.floor((this.canvas.width + 50 + this.scrollOffX)`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Reset sprites\r\n\t\t\t'var i=this.pics.length;',\r\n\t\t\t'this.pics = [];\\nvar i=minI;',\r\n\t\t\t'replace'\r\n\t\t],\r\n\t    [   // Offset sprites\r\n\t\t\t\"var usedPic=(typeof(pic)=='string'?pic:pic(this,i));\",\r\n\t\t\t\"x-=this.scrollOffX;\\n\",\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Scroll when mouse hovers over outer 100px of building view\r\n\t\t\t'var selected=-1;',\r\n\t\t\t`var speed = 20;\r\n\t\t\tif(!OmniCookies.settings.smoothBuildings) speed *= 3;\r\n\t\t\tif(this.mousePos[0] >= (this.canvas.width) - 100 && maxI <= this.amount + rows * 3) {\r\n\t\t\t\tthis.scrollOffX += Math.floor(speed * ((this.mousePos[0] - (this.canvas.width - 100)) / 100));\r\n\t\t\t}\r\n\t\t\tif(this.mousePos[0] <= 100 && this.scrollOffX > 0) {\r\n\t\t\t\tthis.scrollOffX -= Math.floor(speed * (1 - this.mousePos[0] / 100));\r\n\t\t\t}\r\n\t\t\tif(this.scrollOffX < 0 || !OmniCookies.settings.scrollingBuildings) this.scrollOffX = 0;\\n`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Reimplement delay on grandma hover shake\r\n\t\t\t'ctx.drawImage(sprite,Math.floor(pic.x+Math.random()*4-2),Math.floor(pic.y+Math.random()*4-2));',\r\n\t\t\t`if(Game.drawT%3==0) {\r\n\t\t\t\tthis.lastRandX = Math.random()*4;\r\n\t\t\t\tthis.lastRandY = Math.random()*4;\r\n\t\t\t}\r\n\t\t\tctx.drawImage(sprite,Math.floor(pic.x+this.lastRandX-2),Math.floor(pic.y+this.lastRandY-2));`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Bring Grandma To Work Day\r\n\t\t\t'this.pics.push({x:Math.floor(x),y:Math.floor(y),z:y,pic:usedPic,id:i,frame:frame});',\r\n\t\t\t`\\nif(OmniCookies.settings.bringGrandmaToWork) {\r\n\t\t\t\tlet grandmas = OmniCookies.GrandmaSupport.tryDrawGrandmas(this, this.pics[this.pics.length-1], i);\r\n\t\t\t\tif(grandmas && grandmas.length > 0){\r\n\t\t\t\t\thasGrandmas = true;\r\n\t\t\t\t\tthis.pics = this.pics.concat(grandmas);\r\n\t\t\t\t}\r\n\t\t\t}`,\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Enable grandma hovering on supported buildings\r\n\t\t\t`if (this.name=='Grandma')`,\r\n\t\t\t`if (this.name=='Grandma' || (OmniCookies.settings.bringGrandmaToWork && hasGrandmas))`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Count hovered grandmas as grandmas\r\n\t\t\t`if (selected==i && this.name=='Grandma')`,\r\n\t\t\t`if (selected==i && (this.name=='Grandma' || (OmniCookies.settings.bringGrandmaToWork && pic.grandma)))`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Don't let non-grandma things occlude hover detection\r\n\t\t\t`if (this.mousePos[0]>=pic.x-marginW && this.m`,\r\n\t\t\t`if(this.name == 'Grandma' ? false : !pic.grandma) continue;\\n`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Give grandma-supported buildings their own set of grandma seeds\r\n\t\t\t`/*+' '+pic.id*/`,\r\n\t\t\t`+(this.name == 'Grandma' ? '' : ' '+this.name)`,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t];\r\n\tlet mutePattern: InjectParams[] = [\r\n\t\t[   // Force draw on unmute\r\n\t\t\t'this.muted=val;',\r\n\t\t\t'\\nthis.forceDraw=true;',\r\n\t\t\t'after'\r\n\t\t]\r\n\t];\r\n\tlet redrawPattern: InjectParams[] = [\r\n\t\t[   // Force draw on \"redraw\"\r\n\t\t\t'me.pics=[];',\r\n\t\t\t`\\nif(OmniCookies.settings.optimizeBuildings) {\r\n\t\t\t\tme.forceDraw = true;\r\n\t\t\t}`,\r\n\t\t\t'after'\r\n\t\t]\r\n\t];\r\n\t\r\n\tfor(let i in Game.Objects) {\r\n\t\tlet building = (Game.Objects[i] as any);\r\n\t\tif(building.id != 0) {\r\n\t\t\tbuilding.scrollOffX = 0;\r\n\t\t\tbuilding.lastRandX = 0;\r\n\t\t\tbuilding.lastRandY = 0;\r\n\t\t\tbuilding.lastOffX = 0;\r\n\t\t\tbuilding.lastMouseOn = building.mouseOn;\r\n\t\t\tbuilding.lastAmount = building.amount;\r\n\t\t\tbuilding.lastSynergyAmount = 0;\r\n\t\t\tbuilding.hasUnloadedImages = true;\r\n\t\t\tbuilding.forceDraw = true;\r\n\t\t\r\n\t\t\tbuilding.draw = Cppkies.injectCodes(building.draw, drawPattern);\r\n\t\t\tbuilding.mute = Cppkies.injectCodes(building.mute, mutePattern);\r\n\t\t\tbuilding.redraw = Cppkies.injectCodes(building.redraw, redrawPattern);\r\n\t\t}\r\n\t};\r\n\r\n\t// Inject into Object to affect all future building types\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, drawPattern);\r\n\tGame.Object = Cppkies.injectCode(Game.Object,\r\n\t\t// Define variables\r\n\t\t'//building canvas',\r\n\t\t`this.scrollOffX = 0;\r\n\t\tthis.lastRandX = 0;\r\n\t\tthis.lastRandY = 0;\r\n\t\tthis.lastOffX = 0;\r\n\t\tthis.lastMouseOn = this.mouseOn;\r\n\t\tthis.lastAmount = this.amount;\r\n\t\tthis.lastSynergyAmount = 0;\r\n\t\tthis.hasUnloadedImages = true;\r\n\t\tthis.forceDraw = true;\\n`,\r\n\t\t'before'\r\n\t);\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, mutePattern);\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, redrawPattern);\r\n\r\n\t// Bring Your Grandma to Work Day\r\n\tGame.Objects['Grandma'].art.pic = Cppkies.injectCode(\r\n\t\t(Game.Objects['Grandma'].art.pic as ((building: Game.Object, i: number) => string)),\r\n\t\t// Remove banned grandmas from the list, happens after Cppkies hook\r\n\t\t`return`,\r\n\t\t`for(let i = list.length; i > 0; i--) {\r\n\t\t\tlet gran = list[i];\r\n\t\t\tif(gran in OmniCookies.vars.bannedGrandmas) {\r\n\t\t\t\tlist.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\\n`,\r\n\t\t'before'\r\n\t);\r\n\t\r\n\tvars.bannedGrandmas = {\r\n\t\t'farmerGrandma': true,\r\n\t\t'workerGrandma': true,\r\n\t\t'minerGrandma': true,\r\n\t\t'cosmicGrandma': true,\r\n\t\t'transmutedGrandma': true,\r\n\t\t'alteredGrandma': true,\r\n\t\t'grandmasGrandma': true,\r\n\t\t'antiGrandma': true,\r\n\t\t'rainbowGrandma': true,\r\n\t\t'bankGrandma': true,\r\n\t\t'templeGrandma': true,\r\n\t\t'witchGrandma': true,\r\n\t\t'luckyGrandma': true,\r\n\t\t'metaGrandma': true,\r\n\t\t'alternateGrandma': true\r\n\t}\r\n})\r\n\r\n/** Patches building tooltips to look a bit better in some cases */\r\nexport let buildingTooltips = new Patch(function() {\r\n\tlet tooltipPattern: InjectParams[] = [\r\n\t\t[\r\n\t\t\t`if (synergiesStr!='') synergiesStr+=', ';`,\r\n\t\t\t`if (OmniCookies.settings.betterBuildingTooltips || synergiesStr != '')\r\n\t\t\t\tsynergiesStr += OmniCookies.settings.betterBuildingTooltips \r\n\t\t\t\t\t? '<br>&nbsp;&nbsp;&nbsp;&nbsp;- '\r\n\t\t\t\t\t: ', ';`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[\r\n\t\t\t`synergiesStr+=i+' +'+Beautify(synergiesWith[i]*100,1)+'%';`,\r\n\t\t\t`synergiesStr+=i+' '+\r\n\t\t\t(OmniCookies.settings.betterBuildingTooltips ? '<b>' : '')+\r\n\t\t\t'+'+Beautify(synergiesWith[i]*100,1)+'%'+\r\n\t\t\t(OmniCookies.settings.betterBuildingTooltips ? '</b>' : '');`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[\r\n\t\t\t`synergiesStr=\\'...also boosting some other buildings : '+synergiesStr+' - all`,\r\n\t\t\t`synergiesStr=\\'...also boosting some other buildings'+\r\n\t\t\t(OmniCookies.settings.betterBuildingTooltips \r\n\t\t\t\t? ': '+synergiesStr+'<br>&bull; ' \r\n\t\t\t\t: ' : '+synergiesStr+' - ')+'all`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[\r\n\t\t\t`<div class=\"data\"`,\r\n\t\t\t`$& '+(OmniCookies.settings.betterBuildingTooltips ? 'style=\"white-space:nowrap;\"' : '')+'`,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t];\r\n\r\n\tfor(var i in Game.Objects) {\r\n\t\tvar building = Game.Objects[i];\r\n\t\tbuilding.tooltip = Cppkies.injectCodes(building.tooltip, tooltipPattern);\r\n\t}\r\n\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, tooltipPattern);\r\n})\r\n\r\n/** Patches buff tooltips to show remaining time */\r\nexport let buffTooltips = new Patch(function() {\r\n\tvars.buffsById = [];\r\n\r\n\t// *angry programmer noises*\r\n\tinterface BuffWithID extends Game.Buff {\r\n\t\tid: number\r\n\t}\r\n\r\n\t// Edit existing buffs from loaded savegame\r\n\t// This is messy and I hate it\r\n\tfor(let i in Game.buffs) {\r\n\t\tlet buff = (Game.buffs[i] as BuffWithID);\r\n\t\tvars.buffsById[buff.id] = buff;\r\n\t\tlet onmouseover = function() {\r\n\t\t\tif (!Game.mouseDown) {\r\n\t\t\t\tGame.setOnCrate(this);\r\n\t\t\t\tGame.tooltip.dynamic=1;\r\n\t\t\t\tGame.tooltip.draw(this, function(){return vars.GetBuffTooltipFunc(buff.id)();},'left');\r\n\t\t\t\tGame.tooltip.wobble();\r\n\t\t\t}\r\n\t\t}\r\n\t\tlet buffL = (Game.buffsL.getElementsByClassName('crate enabled buff')[buff.id] as HTMLElement);\r\n\t\tbuffL.removeAttribute('onmouseover');\r\n\t\tbuffL.onmouseover = onmouseover;\r\n\t}\r\n\r\n\tGame.gainBuff = Cppkies.injectCodes(Game.gainBuff, [\r\n\t\t[   // Place buff somewhere we can access it later\r\n\t\t\t'Game.buffsL.',\r\n\t\t\t'OmniCookies.vars.buffsById[buff.id] = buff;\\n',\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Update buff desc to new max time\r\n\t\t\t'//new duration is set to new',\r\n\t\t\t`var tempBuff=type.func(buff.time/Game.fps,arg1,arg2,arg3);\r\n\t\t\tbuff.desc = tempBuff.desc;`,\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Use dynamic tooltip instead of static tooltip\r\n\t\t\t/Game\\.getTooltip\\([\\s\\S]+\\):''\\)\\+' /,\r\n\t\t\t`Game.getDynamicTooltip('(OmniCookies.vars.GetBuffTooltipFunc('+buff.id+'))', 'left', true):'')+' `,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t]);\r\n\r\n\t// Create a test for header width\r\n\tvar div = document.createElement('div');\r\n\tdiv.className = 'prompt';\r\n\tvar test = document.createElement('h3');\r\n\tdiv.id = 'OmniCookies_width_test';\r\n\tdiv.appendChild(test);\r\n\tdiv.style.visibility = 'hidden';\r\n\tdocument.getElementById('game').appendChild(div);\r\n\r\n\t// Why am I storing this on-demand? Better not to ask\r\n\tvars.GetBuffTooltipFunc = function(buffId: number) {\r\n\t\treturn function() {\r\n\t\t\tlet buff = (vars.buffsById[buffId] as any);\r\n\r\n\t\t\t// Use the test header to create buffer room for the feather images\r\n\t\t\ttest.textContent = buff.name;\r\n\t\t\tlet width = Math.max(200, test.clientWidth + 78);\r\n\r\n\t\t\tlet buffDesc = buff.desc.replace(Game.sayTime(buff.maxTime,-1),'$&');\r\n\t\t\tlet text = '<div class=\"prompt\" style=\"white-space:nowrap;min-width:'+width+'px;text-align:center;font-size:11px;margin:8px 0px;\"><h3>'+buff.name+'</h3>'+'<div class=\"line\"></div>'+buffDesc;\r\n\t\t\tif(settings.buffTooltipDuration) \r\n\t\t\t\ttext += '<div class=\"line\"></div>'+Game.sayTime(buff.time,-1)+' left';\r\n\t\t\ttext += '</div>';\r\n\t\t\treturn text;\r\n\t\t};\r\n\t}\r\n\r\n\t// Patch Stretch Time success roll to update buff description\r\n\tlet patchGrimoire = setInterval(function() {\r\n\t\tlet grimoire = Game.Objects['Wizard tower'].minigame;\r\n\t\tif(grimoire) {\r\n\t\t\tgrimoire.spells['stretch time'].win = Cppkies.injectCode(grimoire.spells['stretch time'].win,\r\n\t\t\t\t// Update all instances of the previous maximum time\r\n\t\t\t\t// This means it'll catch Cursed Finger\r\n\t\t\t\t'me.maxTime+=gain;',\r\n\t\t\t\t`let timePattern = RegExp(Game.sayTime(me.maxTime,-1), 'g');\r\n\t\t\t\tme.desc = me.desc.replace(timePattern, Game.sayTime(me.maxTime + gain,-1));\\n`,\r\n\t\t\t\t'before'\r\n\t\t\t);\r\n\t\t\tclearInterval(patchGrimoire);\r\n\t\t}\r\n\t}, 250);\r\n})\r\n\r\n/** \r\n * Adds a line break to grandma synergy upgrades\r\n * Fixes the ordering of grandma upgrades in the stats menu\r\n * Makes Script grannies trigger a redraw when bought\r\n */\r\nexport let miscGrandmaFixes = new Patch(function() {\r\n\t// Add a line break between the two effects\r\n\tfor(let i of Game.GrandmaSynergies) {\r\n\t\tlet upgrade = Game.Upgrades[i];\r\n\t\tupgrade.desc = upgrade.desc.replace(/(efficient\\.) /, '$1<br>');\r\n\t\tupgrade.baseDesc = upgrade.desc;\r\n\t}\r\n\r\n\t// Fix the appearance order of these upgrades in the stats menu\r\n\tGame.Upgrades[\"Cosmic grandmas\"].order += 0.2;\r\n\tGame.Upgrades[\"Transmuted grandmas\"].order += 0.2;\r\n\tGame.Upgrades[\"Altered grandmas\"].order += 0.2;\r\n\tGame.Upgrades[\"Grandmas' grandmas\"].order += 0.2;\r\n\r\n\t// Fix the appearance order of buildings in the synergy tooltip list\r\n\tGame.GrandmaSynergies.sort(function(a, b) {\r\n\t\treturn Game.Upgrades[a].order - Game.Upgrades[b].order;\r\n\t});\r\n\r\n\t// Script grannies trigger a redraw\r\n\tlet scriptGrannies = Game.Upgrades['Script grannies'];\r\n\tif(!scriptGrannies.buyFunction) {\r\n\t\tscriptGrannies.buyFunction = function() {\r\n\t\t\tGame.Objects['Grandma'].redraw();\r\n\t\t}\r\n\t} else {\r\n\t\tscriptGrannies.buyFunction = Cppkies.injectCode(scriptGrannies.buyFunction,\r\n\t\t\t// CCSE injects a buy function into every upgrade for mod hooks\r\n\t\t\tnull,\r\n\t\t\t`Game.Objects['Grandma'].redraw();`,\r\n\t\t\t'before'\r\n\t\t);\r\n\t}\r\n\r\n\t// Fix Portals and Grandmas not reporting their synergy status\r\n\tGame.Objects['Portal'].tooltip = Cppkies.injectCode(Game.Objects['Portal'].tooltip,\r\n\t\t`synergiesWith[other.plural]+=boost/(other.storedTotalCps*Game.globalCpsMult);`,\r\n\t\t`synergiesWith[other.plural]+=(me.amount*0.05)/other.baseCps;`,\r\n\t\t'replace'\r\n\t)\r\n\tGame.Objects['Grandma'].tooltip = Cppkies.injectCode(Game.Objects['Grandma'].tooltip,\r\n\t\t`for (var i in Game.GrandmaSynergies)`,\r\n\t\t`let selfBoost = 0;\r\n\t\tif(Game.Has('One mind')) selfBoost += (me.amount * 0.02)/me.baseCps;\r\n\t\tif(Game.Has('Communal brainsweep')) selfBoost += (me.amount * 0.02)/me.baseCps;\r\n\t\tif(selfBoost > 0) {\r\n\t\t\tif(!synergiesWith[me.plural]) synergiesWith[me.plural] = 0;\r\n\t\t\tsynergiesWith[me.plural] += selfBoost;\r\n\t\t}\r\n\t\tsynergyBoost += selfBoost;\\n`,\r\n\t\t'before'\r\n\t)\r\n})\r\n\r\n/** Adds support for Tech and Seasonal upgrade categories */\r\nexport let statsUpgradeCategories = new Patch(function() {\r\n\tGame.UpdateMenu = Cppkies.injectCodes(Game.UpdateMenu, [\r\n\t\t[   // Declare techUpgrades var\r\n\t\t\t'var cookieUpgrades=\\'\\';',\r\n\t\t\t`\\nvar techUpgrades = '';\r\n\t\t\tvar seasonalUpgrades = '';`,\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Redirect tech/seasonal upgrades to the new accumulator string\r\n\t\t\t'else if (me.pool==\\'cookie\\'',\r\n\t\t\t`else if (OmniCookies.settings.separateTechs && me.pool == \\'tech\\') techUpgrades+=str2;\r\n\t\t\telse if(OmniCookies.settings.separateSeasons && me.unlockAt && (me.unlockAt.season || me.unlockAt.displaySeason)) seasonalUpgrades+=str2;\\n`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Display the new category\r\n\t\t\t`cookieUpgrades+'</div>'):'')+`,\r\n\t\t\t`(techUpgrades!=''?('<div class=\"listing\"><b>Technologies</b></div>'+\r\n\t\t\t'<div class=\"listing crateBox\">'+techUpgrades+'</div>'):'')+\r\n\t\t\t(seasonalUpgrades!=''?('<div class=\"listing\"><b>Seasonal</b></div>'+\r\n\t\t\t'<div class=\"listing crateBox\">'+seasonalUpgrades+'</div>'):'')+`,\r\n\t\t\t'after'\r\n\t\t]\r\n\t]);\r\n})\r\n\r\n/** Enables displaying seasonal unlock sources */\r\nexport let displaySeasonUnlock = new Patch(function() {\r\n\tlet allSanta = Game.santaDrops.slice(0, Game.santaDrops.length);\r\n\tallSanta.push('A festive hat');\r\n\tallSanta.push('Santa\\'s dominion');\r\n\r\n\tGame.crateTooltip = Cppkies.injectCodes(Game.crateTooltip, [\r\n\t\t/*[   // Oh god why\r\n\t\t\t`mysterious=0`,\r\n\t\t\t`\\tlet `,\r\n\t\t\t'before'\r\n\t\t],*/\r\n\t\t[\t// Uncomments unlockAt.season\r\n\t\t\t/(\\/\\*|\\*\\/)/g,\r\n\t\t\t'',\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[\r\n\t\t\t`else if (me.unlockAt.season`,\r\n\t\t\t` && me.unlockAt.season`,\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Implements a cosmetic season unlockAt\r\n\t\t\t'else if (me.unlockAt.text)',\r\n\t\t\t`else if (OmniCookies.settings.displaySeasons && me.unlockAt.displaySeason)\r\n\t\t\t{\r\n\t\t\t\tvar it=Game.seasons[me.unlockAt.displaySeason];\r\n\t\t\t\tdesc='<div style=\"font-size:80%;text-align:center;\">From <div class=\"icon\" style=\"vertical-align:middle;display:inline-block;'+(Game.Upgrades[it.trigger].icon[2]?'background-image:url('+Game.Upgrades[it.trigger].icon[2]+');':'')+'background-position:'+(-Game.Upgrades[it.trigger].icon[0]*48)+'px '+(-Game.Upgrades[it.trigger].icon[1]*48)+'px;transform:scale(0.5);margin:-16px;\"></div> '+it.name+'</div><div class=\"line\"></div>'+desc;\r\n\t\t\t}\\n`,\r\n\t\t\t'before'\r\n\t\t]\r\n\t], { mysterious: 0 });\r\n\r\n\tinterface UnlockDisplaySeason extends Game.UnlockRequirement {\r\n\t\tdisplaySeason: string\r\n\t}\r\n\tfunction addCosmeticSeason(upgrade: string | Game.Upgrade, season: string) {\r\n\t\tif(typeof upgrade == 'string') upgrade = Game.Upgrades[upgrade];\r\n\t\tif(!upgrade.unlockAt) upgrade.unlockAt = {cookies:0,name:upgrade.name};\r\n\t\t(upgrade.unlockAt as UnlockDisplaySeason).displaySeason = season;\r\n\t}\r\n\tfor(let name of Game.reindeerDrops) {\r\n\t\taddCosmeticSeason(name, 'christmas');\r\n\t}\r\n\tfor(let name of allSanta) {\r\n\t\taddCosmeticSeason(name, 'christmas');\r\n\t}\r\n\tfor(let name of Game.halloweenDrops) {\r\n\t\taddCosmeticSeason(name, 'halloween');\r\n\t}\r\n\tfor(let name of Game.easterEggs) {\r\n\t\taddCosmeticSeason(name, 'easter');\r\n\t}\r\n})\r\n\r\n/** Allows disabling the Skruuia wrinkler popping bonus */\r\nexport let skruuiaRebalance = new Patch(function() {\r\n\tGame.UpdateWrinklers = Cppkies.injectCode(Game.UpdateWrinklers,\r\n\t\t/(var godLvl=)(Game\\.hasGod\\('scorn'\\))(;\\s*if \\(godLvl==1\\) me\\.sucked\\*=1\\.15;)/m,\r\n\t\t`$1OmniCookies.settings.skruuiaRebalance ? 0 : $2$3`,\r\n\t\t'replace',\r\n\t\t{ inRect: Util.inRect }\r\n\t);\r\n})\r\n\r\n/**\r\n * Reworks Cursed Finger a bit\r\n * - Removes the \"snapshotting\" behavior\r\n * - Gain seconds of true passive CpS\r\n */\r\nexport let cursedFingerTweaks = new Patch(function() {\r\n\tvars.cursedPs = Game.cookiesPs;\r\n\tvars.cursedPsMult = Game.globalCpsMult;\r\n\r\n\tlet cursedFinger = Game.buffTypesByName['cursed finger'];\r\n\tcursedFinger.func = Cppkies.injectCodes(cursedFinger.func, [\r\n\t\t[   // Remove multiply by 0 - don't worry, just moving it\r\n\t\t\t`multCpS:0,`,\r\n\t\t\t`multCpS:1,`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Small description edit\r\n\t\t\t`<br>but each click is worth `,\r\n\t\t\t`<br>but each click generates `,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t]);\r\n\r\n\tcursedFingerPart2.apply();\r\n\r\n\t// Fix pre-existing cursed finger\r\n\tlet cursedBuff = (Game.hasBuff('Cursed finger') as any); // AAAAAAAAAA\r\n\tif(cursedBuff) {\r\n\t\tcursedBuff.multCpS = 1;\r\n\t\tcursedBuff.desc = cursedBuff.desc.replace('is worth', 'generates');\r\n\t\tGame.recalculateGains = 1;\r\n\t}\r\n}, function() {\r\n\t// Inverse of the original patch\r\n\tlet cursedFinger = Game.buffTypesByName['cursed finger'];\r\n\tcursedFinger.func = Cppkies.injectCodes(cursedFinger.func, [\r\n\t\t[\r\n\t\t\t`multCpS:1,`,\r\n\t\t\t`multCpS:0,`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[\r\n\t\t\t`<br>but each click generates `,\r\n\t\t\t`<br>but each click is worth `,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t]);\r\n\r\n\t// Put the x0 multiplier back, update buff power, fix desc\r\n\tlet cursedBuff = (Game.hasBuff('Cursed finger') as any); // AAAAAAAAAA\r\n\tif(cursedBuff) {\r\n\t\tcursedBuff.multCpS = 0;\r\n\t\tcursedBuff.desc = cursedBuff.desc.replace('generates', 'is worth');\r\n\t\tcursedBuff.power = vars.cursedPs * cursedBuff.maxTime/Game.fps;\r\n\t\tGame.recalculateGains = 1;\r\n\t}\r\n});\r\n\r\n/** One-time patches for Cursed Finger, not undo-able */\r\nlet cursedFingerPart2 = new Patch(function() {\r\n\tGame.CalculateGains = Cppkies.injectCode(Game.CalculateGains,\r\n\t\t// See? Told you.\r\n\t\t`Game.computedMouseCps=Game.mouseCps();`,\r\n\t\t`\\nif(OmniCookies.settings.cursedFinger && Game.hasBuff('Cursed finger')) {\r\n\t\t\tOmniCookies.vars.cursedPs = Game.cookiesPs;\r\n\t\t\tOmniCookies.vars.cursedPsMult = Game.globalCpsMult;\r\n\t\t\tGame.globalCpsMult = 0;\r\n\t\t\tGame.cookiesPs = 0;\r\n\t\t\tGame.computedMouseCps = 0;\r\n\t\t}`,\r\n\t\t'after'\r\n\t);\r\n\r\n\t// Inject into and then replace the cookie click event\r\n\tlet bigCookie = document.getElementById('bigCookie');\r\n\tbigCookie.removeEventListener('click', (Game.ClickCookie as EventListener));\r\n\tGame.ClickCookie = Cppkies.injectCode(Game.ClickCookie,\r\n\t\t// Replace click gains with cursed gains\r\n\t\t`Game.handmadeCookies+=amount;`,\r\n\t\t`\\nif(OmniCookies.settings.cursedFinger && Game.hasBuff('Cursed finger')) {\r\n\t\t\tGame.Dissolve(amount);\r\n\t\t\tGame.handmadeCookies-=amount;\r\n\t\t\tamount = OmniCookies.vars.cursedPs * Game.buffs['Cursed finger'].maxTime/Game.fps;\r\n\t\t\tGame.cookiesPs = OmniCookies.vars.cursedPs;\r\n\t\t\tGame.globalCpsMult = OmniCookies.vars.cursedPsMult;\r\n\t\t\tOmniCookies.Util.gainInstantPassiveCpS(Game.buffs['Cursed finger'].maxTime/Game.fps);\r\n\t\t\tGame.cookiesPs = 0;\r\n\t\t\tGame.globalCpsMult = 0;\r\n\t\t}`,\r\n\t\t'after'\r\n\t);\r\n\tAddEvent(bigCookie, 'click', (Game.ClickCookie as EventListener));\r\n})\r\n\r\n/** Enable tooltip wobbling */\r\nexport let tooltipWobble = new Patch(function() {\r\n\tGame.tooltip.wobble = Cppkies.injectCode(Game.tooltip.wobble,\r\n\t\t`if (false)`,\r\n\t\t`if (OmniCookies.settings.tooltipWobble)`,\r\n\t\t'replace'\r\n\t);\r\n})\r\n\r\n/** Replaces cyclius gain function with our own */\r\nexport let cycliusGains = new Patch(function() {\r\n\tGame.CalculateGains = Cppkies.injectCode(Game.CalculateGains,\r\n\t\t/\\(Date\\.now\\(\\)\\/1000\\/\\(60\\*60\\*(\\d+)\\)\\)\\*Math\\.PI\\*2/g,\r\n\t\t'OmniCookies.Util.cycliusCalc($1, OmniCookies.settings.zonedCyclius)',\r\n\t\t'replace'\r\n\t);\r\n})\r\n\r\n/** Displays information about how much you bought your stocks for */\r\nexport let stockInfo = new Patch(function() {\r\n\tUtil.onMinigameLoaded('Bank', function() {\r\n\t\tlet stockMarket = Game.Objects['Bank'].minigame;\r\n\t\tstockMarket.buyGood = Cppkies.injectCode(stockMarket.buyGood,\r\n\t\t\t// Calculate new average when buying stock\r\n\t\t\t'return true;',\r\n\t\t\t`let realCostInS = costInS * overhead;\r\n\t\t\tif(!OmniCookies.saveData.stockAverages[id] || me.stock == n) {\r\n\t\t\t\tOmniCookies.saveData.stockAverages[id] = {\r\n\t\t\t\t\tavgValue: realCostInS,\r\n\t\t\t\t\ttotalValue: realCostInS*n\r\n\t\t\t\t};\r\n\t\t\t} else {\r\n\t\t\t\tlet avg = OmniCookies.saveData.stockAverages[id];\r\n\t\t\t\tavg.totalValue += realCostInS*n;\r\n\t\t\t\tavg.avgValue = avg.totalValue/me.stock;\r\n\t\t\t}\\n`,\r\n\t\t\t'before',\r\n\t\t\t{ M: stockMarket }\r\n\t\t);\r\n\t\tstockMarket.sellGood = Cppkies.injectCode(stockMarket.sellGood,\r\n\t\t\t// Subtract total bought stock value when selling\r\n\t\t\t`return true;`,\r\n\t\t\t`if(OmniCookies.saveData.stockAverages[id]) {\r\n\t\t\t\tlet avg = OmniCookies.saveData.stockAverages[id];\r\n\t\t\t\tavg.totalValue -= avg.avgValue*n;\r\n\t\t\t}\\n`,\r\n\t\t\t'before',\r\n\t\t\t{ M: stockMarket }\r\n\t\t);\r\n\t\t/*stockMarket.goodTooltip = OmniCookies.replaceCode(stockMarket.goodTooltip, [\r\n\t\t\t{   // Shows the current total bought value on the tooltip\r\n\t\t\t\t// Disabled for now due to ugly text wrapping\r\n\t\t\t\tpattern: /me\\.name\\+' \\(worth <b>\\$'\\+Beautify\\(val\\*me\\.stock,2\\)\\+'<\\/b>/,\r\n\t\t\t\treplacement: `$&, bought for <b>$$'+Beautify(OmniCookies.saveData.stockAverages[id] ? OmniCookies.saveData.stockAverages[id].totalValue : 0, 2)+'</b>`\r\n\t\t\t}\r\n\t\t]), `var M = Game.Objects['Bank'].minigame;`;*/\r\n\t\tstockMarket.drawGraph = Cppkies.injectCode(stockMarket.drawGraph,\r\n\t\t\t// Draw line for profit threshold\r\n\t\t\tnull,\r\n\t\t\t`if(OmniCookies.settings.stockValueData && M.hoverOnGood != -1) {\r\n\t\t\t\tlet me = M.goodsById[M.hoverOnGood];\r\n\t\t\t\tif(me.stock > 0 && OmniCookies.saveData.stockAverages[M.hoverOnGood]) {\r\n\t\t\t\t\tctx.strokeStyle='#00ff00'; // green\r\n\t\t\t\t\tctx.beginPath();\r\n\t\t\t\t\tlet lineHeight = Math.floor(height-OmniCookies.saveData.stockAverages[M.hoverOnGood].avgValue*M.graphScale)+0.5;\r\n\t\t\t\t\tctx.moveTo(width-1, lineHeight);\r\n\t\t\t\t\tctx.lineTo(width-span*rows-1, lineHeight);\r\n\t\t\t\t\tctx.stroke();\r\n\t\t\t\t}\r\n\t\t\t}`,\r\n\t\t\t'after',\r\n\t\t\t{ M: stockMarket }\r\n\t\t);\r\n\t\tstockMarket.draw = Cppkies.injectCode(stockMarket.draw,\r\n\t\t\t// Add a new display for the average bought value\r\n\t\t\t`//if (me.stock>0) me.stockL.style.color='#fff';`,\r\n\t\t\t`if(OmniCookies.settings.stockValueData) {\r\n\t\t\t\tif(!me.avgL) {\r\n\t\t\t\t\tlet avgSpan = document.createElement('span');\r\n\t\t\t\t\tavgSpan.id = 'bankGood-'+me.id+'-avg';\r\n\t\t\t\t\tavgSpan.innerHTML = '$$--.--';\r\n\t\t\t\t\tdocument.getElementById('bankGood-'+me.id+'-stockBox').appendChild(avgSpan);\r\n\t\t\t\t\tme.avgL = avgSpan;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(OmniCookies.settings.alternateStockMarket && (!me.avgL.parentElement || me.avgL.parentElement.id.includes('-stockBox'))) {\r\n\t\t\t\t\tlet newCell = l('bankGood-'+me.id+'-boughtValueBox');\r\n\t\t\t\t\tif(newCell) {\r\n\t\t\t\t\t\tme.avgL.style.marginLeft = '4px';\r\n\t\t\t\t\t\tnewCell.appendChild(me.avgL);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(OmniCookies.saveData.stockAverages[me.id] && me.stock > 0) {\r\n\t\t\t\t\tme.avgL.style.visibility = 'visible';\r\n\t\t\t\t\tlet avg = OmniCookies.saveData.stockAverages[me.id];\r\n\t\t\t\t\tme.avgL.innerHTML = '$$'+Beautify(avg.avgValue,2);\r\n\t\t\t\t\tif(!OmniCookies.settings.alternateStockMarket) {\r\n\t\t\t\t\t\tme.avgL.innerHTML = ' ('+me.avgL.innerHTML+')';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(avg.avgValue < me.val) {\r\n\t\t\t\t\t\tme.avgL.classList.remove('red');\r\n\t\t\t\t\t\tme.avgL.classList.add('green');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tme.avgL.classList.remove('green');\r\n\t\t\t\t\t\tme.avgL.classList.add('red');\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif(!OmniCookies.settings.alternateStockMarket) {\r\n\t\t\t\t\t\tme.avgL.style.visibility = 'hidden';\r\n\t\t\t\t\t\tme.avgL.innerHTML = '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tme.avgL.style.visibility = 'visible';\r\n\t\t\t\t\t\tme.avgL.innerHTML = '$$--.--';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tme.avgL.classList.remove('red');\r\n\t\t\t\t\tme.avgL.classList.remove('green');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(me.avgL) {\r\n\t\t\t\t\tme.avgL.remove();\r\n\t\t\t\t\tme.avgL = undefined;\r\n\t\t\t\t}\r\n\t\t\t}\\n`,\r\n\t\t\t'before',\r\n\t\t\t{ M: stockMarket }\r\n\t\t);\r\n\t\tstockMarket.toRedraw = (2 as any);\r\n\t});\r\n})\r\n\r\n/** Allows buildings to bypass the Fancy graphics setting */\r\nexport let fancyBuildings = new Patch(function() {\r\n\tGame.Draw = Cppkies.injectCode(Game.Draw,\r\n\t\t'if (Game.prefs.animate && ((Game.prefs.fancy && Game.drawT%1==0)',\r\n\t\t'if (Game.prefs.animate && ((((Game.prefs.fancy || OmniCookies.settings.buildingsBypassFancy == 0) && OmniCookies.settings.buildingsBypassFancy != 1) && Game.drawT%1==0)',\r\n\t\t'replace'\r\n\t);\r\n})\r\n\r\n/** Allows cursors to bypass the Fancy graphics setting */\r\nexport let fancyCursors = new Patch(function() {\r\n\tGame.DrawBackground = Cppkies.injectCode(Game.DrawBackground, \r\n\t\t/(var fancy=)(Game\\.prefs\\.fancy)(;)/,\r\n\t\t'$1($2 || OmniCookies.settings.cursorsBypassFancy == 0) && OmniCookies.settings.cursorsBypassFancy != 1$3',\r\n\t\t'replace'\r\n\t);\r\n})\r\n\r\n/** Allows wrinklers to bypass the Fancy graphics setting */\r\nexport let fancyWrinklers = new Patch(function() {\r\n\tGame.UpdateWrinklers = Cppkies.injectCode(Game.UpdateWrinklers, \r\n\t\t/Game\\.prefs\\.fancy/g,\r\n\t\t`($& || OmniCookies.settings.wrinklersBypassFancy == 0) && OmniCookies.settings.wrinklersBypassFancy != 1`,\r\n\t\t'replace',\r\n\t\t{ inRect: Util.inRect }\r\n\t);\r\n})\r\n\r\n/** \r\n * Properly displays the (seemingly intended) feature of partial buying in bulk.\r\n * Also makes the ALL button worth ALL, not 1000\r\n * Also allows using the ALL button in buy mode.\r\n */\r\nexport let buySellBulk = new Patch(function() {\r\n\tlet rebuildPattern: InjectParams[] = [\r\n\t\t[\r\n\t\t\t`l('productPriceMult'+me.id).textContent=(Game.buyBulk>1)?('x'+Game.buyBulk+' '):'';`,\r\n\t\t\t`if(OmniCookies.settings.enhancedBulk) {\r\n\t\t\t\tlet bulkAmount = -1;\r\n\t\t\t\tlet bulkPrice = -1;\r\n\t\t\t\tif(Game.buyMode == -1) {\r\n\t\t\t\t\tbulkAmount = (Game.buyBulk > -1) ? Math.min(Game.buyBulk, me.amount) : me.amount;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet scaling = Game.priceIncrease;\r\n\t\t\t\t\tif(OmniCookies.settings.buildingPriceBuff) {\r\n\t\t\t\t\t\tscaling = 1+Game.modifyBuildingPrice(me, scaling-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet bulk = OmniCookies.Util.calcMaxBuyBulk(me, Game.buyBulk, scaling);\r\n\t\t\t\t\tbulkAmount = bulk.maxAmount;\r\n\t\t\t\t\tbulkPrice = bulk.maxPrice;\r\n\t\t\t\t}\r\n\t\t\t\tl('productPriceMult'+me.id).textContent = bulkAmount > 1 ? 'x' + bulkAmount + ' ' : '';\r\n\t\t\t} else {\r\n\t\t\t\t$&\r\n\t\t\t}`,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t];\r\n\tlet refreshPattern: InjectParams[] = [\r\n\t\t[   // Set bulk buy price to maximum bulk price\r\n\t\t\t`if (Game.buyMode==1) this.bulkPrice=this.getSumPrice(Game.buyBulk);`,\r\n\t\t\t`if (Game.buyMode==1) {\r\n\t\t\t\tif(OmniCookies.settings.enhancedBulk) {\r\n\t\t\t\t\tlet scaling = Game.priceIncrease;\r\n\t\t\t\t\tif(OmniCookies.settings.buildingPriceBuff) {\r\n\t\t\t\t\t\tscaling = 1+Game.modifyBuildingPrice(this, scaling-1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet bulk = OmniCookies.Util.calcMaxBuyBulk(this,Game.buyBulk,scaling);\r\n\t\t\t\t\tthis.bulkPrice = bulk.maxPrice > 0 ? bulk.maxPrice : this.price;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.bulkPrice=this.getSumPrice(Game.buyBulk);\r\n\t\t\t\t}\r\n\t\t\t}`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Sell ALL buildings, not only up to 1000\r\n\t\t\t`else if (Game.buyMode==-1 && Game.buyBulk==-1) this.bulkPrice=this.getReverseSumPrice(`,\r\n\t\t\t`OmniCookies.settings.enhancedBulk ? this.amount : `,\r\n\t\t\t'after'\r\n\t\t]\r\n\t];\r\n\tlet buyPattern: InjectParams[] = [\r\n\t\t[   // Allow ALL to mean ALL, rather than 1000\r\n\t\t\t`if (amount==-1) amount=1000;`,\r\n\t\t\t`if (amount==-1) amount=Infinity;`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Stop looping when we can't afford stuff\r\n\t\t\t/success=1;\\s*}/,\r\n\t\t\t`$& else break;`,\r\n\t\t\t'replace'\r\n\t\t]\r\n\t];\r\n\r\n\tfor(let i in Game.Objects) {\r\n\t\tlet building = Game.Objects[i];\r\n\r\n\t\tbuilding.rebuild = Cppkies.injectCodes(building.rebuild, rebuildPattern);\r\n\t\tbuilding.refresh = Cppkies.injectCodes(building.refresh, refreshPattern);\r\n\t\tbuilding.buy = Cppkies.injectCodes(building.buy, buyPattern);\r\n\t}\r\n\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, rebuildPattern);\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, refreshPattern);\r\n\tGame.Object = Cppkies.injectCodes(Game.Object, buyPattern);\r\n\r\n\tGame.storeBulkButton = Cppkies.injectCodes(Game.storeBulkButton, [\r\n\t\t[   // Allow using max button in buy mode\r\n\t\t\t`if (Game.buyMode==1 && Game.buyBulk==-1) Game.buyBulk=100;`,\r\n\t\t\t`if(id == 0 || id == 1) {\r\n\t\t\t\tlet text = 'all';\r\n\t\t\t\tif(OmniCookies.settings.enhancedBulk) {\r\n\t\t\t\t\tif(Game.buyMode == -1) text = 'ALL';\r\n\t\t\t\t\telse text = 'MAX';\r\n\t\t\t\t}\r\n\t\t\t\tl('storeBulkMax').textContent = text;\r\n\t\t\t}\r\n\t\t\tif (!OmniCookies.settings.enhancedBulk && Game.buyMode==1 && Game.buyBulk==-1) Game.buyBulk=100;`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Max button is always visible\r\n\t\t\t`l('storeBulkMax').style.visibility='hidden';`,\r\n\t\t\t`if(!OmniCookies.settings.enhancedBulk) `,\r\n\t\t\t'before'\r\n\t\t]\r\n\t]);\r\n\r\n\tGame.Logic = Cppkies.injectCodes(Game.Logic, [\r\n\t\t[   // Record the current shortcut\r\n\t\t\t`if (!Game.promptOn)`,\r\n\t\t\t`let activeShortcut = (OmniCookies.Util.holdingButton(16)*2) | (OmniCookies.Util.holdingButton(17));\\n`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Always cause a setting update if there is a change in shortcut\r\n\t\t\t`if ((Game.keys[16] || Game.keys[17]) && !Game.buyBulkShortcut)`,\r\n\t\t\t`if (activeShortcut != OmniCookies.vars.prevShortcut && (OmniCookies.settings.enhancedBulk ? true : activeShortcut == 2 || activeShortcut == 1))`,\r\n\t\t\t'replace'\r\n\t\t],\r\n\t\t[   // Only set Game.buyBulkOld when previously not holding either key\r\n\t\t\t`Game.buyBulkOld=Game.buyBulk;`,\r\n\t\t\t`if(OmniCookies.vars.prevShortcut == 0) `,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // If holding both keys, switch to MAX/ALL\r\n\t\t\t`if (Game.keys[17]) Game.buyBulk=10;`,\r\n\t\t\t`if(activeShortcut == 3 && OmniCookies.settings.enhancedBulk) Game.buyBulk = -1;`,\r\n\t\t\t'after'\r\n\t\t],\r\n\t\t[   // Record state\r\n\t\t\t`//handle cookies`,\r\n\t\t\t`OmniCookies.vars.prevShortcut = activeShortcut;\\n`,\r\n\t\t\t'before'\r\n\t\t]\r\n\t])\r\n\t\r\n\tupdateBulkAll();\r\n})\r\n\r\n/** Updates the bulk buy selection for when the option is toggled */\r\nexport let updateBulkAll = function() {\r\n\tif(Game.buyMode == 1) {\r\n\t\tif(Game.buyBulk == -1 && !settings.enhancedBulk) Game.storeBulkButton(4);\r\n\t\tl('storeBulkMax').style.visibility = settings.enhancedBulk ? 'visible' : 'hidden';\r\n\t}\r\n\tlet text = 'all';\r\n\tif(settings.enhancedBulk) {\r\n\t\tif(Game.buyMode == -1) text = 'ALL';\r\n\t\telse text = 'MAX';\r\n\t}\r\n\tl('storeBulkMax').textContent = text;\r\n\tGame.RefreshStore();\r\n}\r\n\r\n/** \r\n * Fix stock market to use established cookie manipulation options\r\n * You can now lose some of your earned cookies this way - or gain them!\r\n */ \r\nexport let dangerousStocks = new Patch(function() {\r\n\tUtil.onMinigameLoaded('Bank', function() {\r\n\t\tlet stockMarket = Game.Objects['Bank'].minigame;\r\n\t\tstockMarket.buyGood = Cppkies.injectCode(stockMarket.buyGood,\r\n\t\t\t// Use Dissolve instead of Spend (to withhold cookies earned)\r\n\t\t\t`Game.Spend(cost*n);`,\r\n\t\t\t`if(OmniCookies.settings.dangerousStocks) {\r\n\t\t\t\tGame.Dissolve(cost*n);\r\n\t\t\t} else {\r\n\t\t\t\t$&\r\n\t\t\t}`,\r\n\t\t\t'replace',\r\n\t\t\t{ M: stockMarket }\r\n\t\t);\r\n\t\tstockMarket.sellGood = Cppkies.injectCodes(stockMarket.sellGood, [\r\n\t\t\t[   // Start using Game.Earn again (to reinstate cookies earned)\r\n\t\t\t\t'//Game.Earn',\r\n\t\t\t\t`if(OmniCookies.settings.dangerousStocks) Game.Earn`,\r\n\t\t\t\t'replace'\r\n\t\t\t],\r\n\t\t\t[   // Stop using direct setting\r\n\t\t\t\t/\\tGame\\.cookies/gm,\r\n\t\t\t\t`if(!OmniCookies.settings.dangerousStocks) $&`,\r\n\t\t\t\t'replace'\r\n\t\t\t]\r\n\t\t], { M: stockMarket });\r\n\t});\r\n})\r\n\r\n/** Adds a displayed value for each of Cyclius' cycles. */\r\nexport let cycliusInfo = new Patch(function() {\r\n\tUtil.onMinigameLoaded('Temple', function() {\r\n\t\tlet pantheon = Game.Objects['Temple'].minigame;\r\n\t\tlet functionPattern: InjectParams = [\r\n\t\t\t// Allow functions to be used as descriptions\r\n\t\t\t/\\+me\\.desc(\\w+)\\+/g,\r\n\t\t\t`+((typeof me.desc$1 == 'function') ? me.desc$1() : me.desc$1)+`,\r\n\t\t\t'replace'\r\n\t\t];\r\n\t\tpantheon.godTooltip = Cppkies.injectCode(pantheon.godTooltip, \r\n\t\t\t...functionPattern, { M: pantheon });\r\n\t\tpantheon.slotTooltip = Cppkies.injectCode(pantheon.slotTooltip, \r\n\t\t\t...functionPattern, { M: pantheon });\r\n\r\n\t\t// Display Cyclius values\r\n\t\tlet cycliusFunc = function(interval: number): () => string {\r\n\t\t\treturn function() {\r\n\t\t\t\tlet effect = '';\r\n\t\t\t\tif(settings.detailedCyclius) {\r\n\t\t\t\t\tlet mult = 0.15*Math.sin(Util.cycliusCalc(interval, settings.zonedCyclius)) * 100;\r\n\t\t\t\t\tlet color = mult > 0 ? 'green' : 'red';\r\n\t\t\t\t\tlet sign = mult > 0 ? '+' : '';\r\n\t\t\t\t\tlet num = Beautify(mult,2);\r\n\t\t\t\t\tif(num == \"0\") color = ''; // if Beautify gives 0\r\n\t\t\t\t\tif(mult < -0.1 && num == \"0\") color = 'red'; // if Beautify gives a bad 0\r\n\t\t\t\t\tif(mult < 0 && !num.includes('-')) num = '-' + num; // if Beautify forgets to give a -\r\n\t\t\t\t\teffect = `<div style=\"display:inline-block;text-align:right;width:50%;\" class=\"${color}\">${sign}${num}% base CpS.</div>`;\r\n\t\t\t\t}\r\n\t\t\t\treturn `<div style=\"display:inline-block;width:49%;\">Effect cycles over ${interval} hours.</div>${effect}`;\r\n\t\t\t}\r\n\t\t}\r\n\t\tinterface SpiritWithDescFunc {\r\n\t\t\tdesc1: string | (() => string)\r\n\t\t\tdesc2: string | (() => string)\r\n\t\t\tdesc3: string | (() => string)\r\n\t\t}\r\n\t\tlet cyclius = (pantheon.gods['ages'] as SpiritWithDescFunc);\r\n\t\ttoggleCyclius();\r\n\t\tcyclius.desc1 = cycliusFunc(3);\r\n\t\tcyclius.desc2 = cycliusFunc(12);\r\n\t\tcyclius.desc3 = cycliusFunc(24);\r\n\t});\r\n})\r\n\r\nexport let toggleCyclius = function() {\r\n\tlet pantheon = Game.Objects['Temple'].minigame;\r\n\tlet cyclius = (pantheon.gods['ages'] as any);\r\n\tif(cyclius.activeDescFunc) {\r\n\t\tcyclius.activeDescBackup = cyclius.activeDescFunc;\r\n\t\tcyclius.activeDescFunc = undefined; // I'm sorry\r\n\t} else {\r\n\t\tcyclius.activeDescFunc = cyclius.activeDescBackup;\r\n\t\tcyclius.activeDescBackup = undefined; // I'm really, really sorry\r\n\t}\r\n}\r\n\r\n/** Miscellaneous performance enhancements */\r\nexport let optiCookies = new Patch(function() {\r\n\t// fix forcing a store refresh every 5 draw frames if player has zero and non-zero switches\r\n\tGame.Draw = Cppkies.injectCode(Game.Draw,\r\n\t\t`if (price<lastPrice) Game.storeToRefresh=1;`,\r\n\t\t`if (price<lastPrice && price!=0) Game.upgradesToRebuild=1;`,\r\n\t\t'replace'\r\n\t);\r\n\t\r\n\t// use fast calc instead of loop calc\r\n\tfor(let obj of Game.ObjectsById) {\r\n\t\tobj.getSumPrice = Cppkies.injectCodes(obj.getSumPrice, [\r\n\t\t\t[   // Immediately cancel the loop\r\n\t\t\t\t/(for \\(var i=)(Math\\.max\\(0,this\\.amount\\))(;)/,\r\n\t\t\t\t`$1Infinity$3`,\r\n\t\t\t\t'replace'\r\n\t\t\t],\r\n\t\t\t[   // Change to quick calc\r\n\t\t\t\t`=Game.modifyBuildingPrice(this,price);`,\r\n\t\t\t\t`=OmniCookies.Util.quickCalcBulkPrice(this, amount);`,\r\n\t\t\t\t`replace`\r\n\t\t\t]\r\n\t\t]);\r\n\t\tobj.getReverseSumPrice = Cppkies.injectCodes(obj.getReverseSumPrice, [\r\n\t\t\t[   // Immediately cancel the loop\r\n\t\t\t\t/(for \\(var i=)(Math\\.max\\(0,\\(this\\.amount\\)-amount\\))(;)/,\r\n\t\t\t\t`$1Infinity$3`,\r\n\t\t\t\t'replace'\r\n\t\t\t],\r\n\t\t\t[   // Change to quick calc\r\n\t\t\t\t`=Game.modifyBuildingPrice(this,price);`,\r\n\t\t\t\t`=OmniCookies.Util.quickCalcBulkPrice(this, amount, undefined, true);`,\r\n\t\t\t\t`replace`\r\n\t\t\t],\r\n\t\t\t[\r\n\t\t\t\t// Remove sell multiplier, already calculated that\r\n\t\t\t\t`price*=this.getSellMult`,\r\n\t\t\t\t`//`,\r\n\t\t\t\t'before'\r\n\t\t\t]\r\n\t\t]);\r\n\t}\r\n})\r\n\r\nexport let dangerousBrokers = new Patch(function() {\r\n\tUtil.onMinigameLoaded('Bank', function() {\r\n\t\tlet market = Game.Objects['Bank'].minigame;\r\n\t\tlet brokerButton = l('bankBrokersBuy');\r\n\t\tlet parent = brokerButton.parentElement;\r\n\r\n\t\tlet newButton = document.createElement('div');\r\n\t\tnewButton.classList.add('bankButton', 'bankButtonBuy', 'bankButtonOff');\r\n\t\tnewButton.id = 'bankBrokersBuy';\r\n\t\tnewButton.innerHTML = \"Hire\";\r\n\t\tnewButton.onclick = (e) => {\r\n\t\t\tif (market.brokers<market.getMaxBrokers() && Game.cookies>=market.getBrokerPrice()) {\r\n\t\t\t\tif(settings.dangerousBrokers && settings.dangerousStocks) {\r\n\t\t\t\t\tGame.Dissolve(market.getBrokerPrice());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tGame.Spend(market.getBrokerPrice());\r\n\t\t\t\t}\r\n\t\t\t\tmarket.brokers+=1;\r\n\t\t\t\tif(settings.dangerousBrokers) {\r\n\t\t\t\t\tmarket.profit-=1200;\r\n\t\t\t\t}\r\n\t\t\t\tPlaySound('snd/cashIn2.mp3',0.6);\r\n\t\t\t\tGame.SparkleOn((e.target) as any);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbrokerButton.remove();\r\n\t\tparent.appendChild(newButton);\r\n\t})\r\n})\r\n\r\n/**\r\n * Allows certain prestige upgrades to act like cookie upgrades.  \r\n * This makes them show the [Cookie] tag and appear as cookie particles.  \r\n * Currently applies to:\r\n * - Heavenly cookies\r\n * - Wrinkly cookies\r\n * - Sugar crystal cookies\r\n * \r\n * Other mods can add such prestige cookies to `vars.prestigeCookies`.\r\n */\r\nexport let heavenlyCookies = new Patch(function() {\r\n\tGame.crateTooltip = Cppkies.injectCode(Game.crateTooltip,\r\n\t\t`if (me.tier!=0 && Game.Has('Label printer')) tags.push('Tier : '`,\r\n\t\t`if(OmniCookies.settings.heavenlyCookies && me.pseudoCookie) {\r\n\t\t\tif(!OmniCookies.vars.bannedPseudoCookies[me.name]) {\r\n\t\t\t\ttags.push('Cookie', 0);\r\n\t\t\t}\r\n\t\t}\\n`,\r\n\t\t'before',\r\n\t\t{ mysterious: 0 }\r\n\t);\r\n\tGame.particleAdd = Cppkies.injectCode(Game.particleAdd,\r\n\t\t/(if \\(cookie\\.bought>0 && )(cookie\\.pool=='cookie')(\\) cookies\\.push\\(cookie\\.icon\\);)/,\r\n\t\t`$1($2 || (OmniCookies.settings.heavenlyCookies && cookie.pseudoCookie && Game.Has(cookie.name) && !OmniCookies.vars.bannedPseudoCookies[cookie.name]))$3`,\r\n\t\t'replace'\r\n\t);\r\n})\r\n\r\nexport let buildingPriceBuff = new Patch(function() {\r\n\tlet pattern: InjectParams[] = [\r\n\t\t[   // Inject a modification to Game.priceIncrease before building price calc\r\n\t\t\tnull,\r\n\t\t\t`let oldPriceIncrease = Game.priceIncrease;\r\n\t\t\tif(OmniCookies.settings.buildingPriceBuff) {\r\n\t\t\t\tGame.priceIncrease = 1+Game.modifyBuildingPrice(this, oldPriceIncrease-1);\r\n\t\t\t\tOmniCookies.vars.skipModifyPrice = true;\r\n\t\t\t}`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[   // Put priceIncrease back where it was after the calc\r\n\t\t\t`return Mat`,\r\n\t\t\t`if(OmniCookies.settings.buildingPriceBuff) Game.priceIncrease = oldPriceIncrease;\\n`,\r\n\t\t\t'before'\r\n\t\t]\r\n\t];\r\n\r\n\tfor(let building of Game.ObjectsById) {\r\n\t\tbuilding.getPrice = Cppkies.injectCodes(building.getPrice, pattern);\r\n\t\tbuilding.getSumPrice = Cppkies.injectCodes(building.getSumPrice, pattern);\r\n\t\tbuilding.getReverseSumPrice = Cppkies.injectCodes(building.getReverseSumPrice, pattern);\r\n\t}\r\n\r\n\tGame.modifyBuildingPrice = Cppkies.injectCode(Game.modifyBuildingPrice,\r\n\t\t// Allow skipping the price modification during this mode\r\n\t\tnull,\r\n\t\t`if(OmniCookies.vars.skipModifyPrice) {\r\n\t\t\tOmniCookies.vars.skipModifyPrice = false;\r\n\t\t\treturn price;\r\n\t\t}`,\r\n\t\t'before'\r\n\t);\r\n})\r\n\r\nexport let alternateStockMarket = new Patch(function() {\r\n\tUtil.onMinigameLoaded('Bank', function() {\r\n\t\tlet stockMarket = Game.Objects['Bank'].minigame;\r\n\t\tlet marketL = l('bankContent');\r\n\t\tlet headerL = l('bankHeader');\r\n\t\tlet graphL = l('bankGraphBox');\r\n\r\n\t\t// Move the first 4 elements outside of the header\r\n\t\tfor(let i=0;i<4;i++) marketL.insertBefore(headerL.children[0], headerL);\r\n\r\n\t\t// Move the graph to be before the rest of the elements\r\n\t\theaderL.insertBefore(graphL, headerL.children[0]);\r\n\r\n\t\t// Collect all of the bankGoods and place them in a new div\r\n\t\tlet goodsDiv = document.createElement('div');\r\n\t\tgoodsDiv.style.display = 'table';\r\n\t\tfor(let goodId in stockMarket.goodsById) {\r\n\t\t\tlet newDiv = document.createElement('div');\r\n\t\t\tnewDiv.style.display = 'inline-block';\r\n\t\t\tnewDiv.style.paddingRight = '4px';\r\n\t\t\tnewDiv.style.paddingLeft = '4px';\r\n\r\n\t\t\tlet percentSpan = document.getElementById(`bankGood-${goodId}-sym`);\r\n\t\t\tlet valueSpan = document.getElementById(`bankGood-${goodId}-val`);\r\n\t\t\tlet stockSpan = document.getElementById(`bankGood-${goodId}-stock`);\r\n\t\t\tlet stockMaxSpan = document.getElementById(`bankGood-${goodId}-stockMax`);\r\n\t\t\tlet stockValueSpan = document.getElementById(`bankGood-${goodId}-avg`);\r\n\t\t\tlet hideButton = document.getElementById(`bankGood-${goodId}-viewHide`);\r\n\t\t\tlet buyButton = document.getElementById(`bankGood-${goodId}_Max`);\r\n\t\t\tlet sellButton = document.getElementById(`bankGood-${goodId}_-All`);\r\n\t\t\tlet good = stockMarket.goodsById[goodId];\r\n\t\t\tlet icon = (good.l.getElementsByClassName('icon')[0] as HTMLElement);\r\n\t\t\tnewDiv.appendChild(good.l);\r\n\t\t\tnewDiv.appendChild(icon);\r\n\t\t\tgoodsDiv.appendChild(newDiv);\r\n\r\n\t\t\tlet symbolTable = document.createElement('table');\r\n\t\t\tsymbolTable.style.display = 'inline-block';\r\n\t\t\tsymbolTable.style.overflow = 'hidden';\r\n\t\t\t\r\n\t\t\tlet topRow = document.createElement('tr');\r\n\t\t\tlet nameCell = document.createElement('td'); topRow.appendChild(nameCell);\r\n\t\t\tnameCell.setAttribute('rowspan', '2');\r\n\t\t\tnameCell.style.verticalAlign = 'center';\r\n\t\t\tlet percentCell = document.createElement('td'); topRow.appendChild(percentCell);\r\n\t\t\tlet valueCell = document.createElement('td'); topRow.appendChild(valueCell);\r\n\t\t\tlet maxStockCell = document.createElement('td'); topRow.appendChild(maxStockCell);\r\n\t\t\tsymbolTable.appendChild(topRow);\r\n\r\n\t\t\tlet bottomRow = document.createElement('tr');\r\n\t\t\tlet profitPercentCell = document.createElement('td'); bottomRow.appendChild(profitPercentCell);\r\n\t\t\tlet boughtValueCell = document.createElement('td'); bottomRow.appendChild(boughtValueCell);\r\n\t\t\tlet ownedStockCell = document.createElement('td'); bottomRow.appendChild(ownedStockCell);\r\n\t\t\tsymbolTable.appendChild(bottomRow);\r\n\r\n\t\t\tlet rightTable = document.createElement('table');\r\n\t\t\trightTable.style.display = 'inline-block';\r\n\t\t\tlet rightTopRow = document.createElement('tr');\r\n\t\t\tlet rightBotRow = document.createElement('tr');\r\n\t\t\tlet buyButtonCell = document.createElement('td'); rightTopRow.appendChild(buyButtonCell);\r\n\t\t\tlet hideButtonCell = document.createElement('td'); rightTopRow.appendChild(hideButtonCell);\r\n\t\t\tlet sellButtonCell = document.createElement('td'); rightBotRow.appendChild(sellButtonCell);\r\n\t\t\trightTable.appendChild(rightTopRow);\r\n\t\t\trightTable.appendChild(rightBotRow);\r\n\r\n\t\t\t// move icon\r\n\t\t\ticon.style.zIndex = '';\r\n\t\t\ticon.style.transform = '';\r\n\t\t\ticon.style.position = '';\r\n\t\t\ticon.style.margin = '-6px -14px';\r\n\t\t\ticon.style.float = 'left';\r\n\r\n\t\t\t// Perform open heart surgery\r\n\t\t\tgood.l.style.width = 'fit-content';\r\n\t\t\tgood.l.style.background = 'linear-gradient(to right,#333,#222,#111,#000)';\r\n\t\t\t//good.l.style.margin = '1px';\r\n\t\t\tgood.l.style.width = 'auto';\r\n\t\t\t//good.l.style.height = '32px';\r\n\r\n\t\t\tlet buySellDiv = (good.l.children[good.l.children.length-1] as HTMLElement);\r\n\t\t\tbuySellDiv.remove();\r\n\r\n\t\t\t// move Hide button outside\r\n\t\t\thideButton.style.position = 'relative';\r\n\t\t\thideButton.style.display = 'inline-block';\r\n\t\t\thideButton.style.paddingTop = '0px';\r\n\t\t\thideButton.style.paddingBottom = '0px';\r\n\t\t\thideButton.style.width = '25px';\r\n\t\t\thideButtonCell.appendChild(hideButton);\r\n\t\t\t//good.l.appendChild(hideButton);\r\n\r\n\t\t\t// remove most buy/sell buttons and stack them\r\n\t\t\tbuyButton.style.verticalAlign = 'bottom';\r\n\t\t\tsellButton.style.verticalAlign = 'bottom';\r\n\t\t\tbuyButton.style.margin = '0px 0px';\r\n\t\t\tsellButton.style.margin = '0px 0px';\r\n\t\t\tbuyButton.style.background = '#000';\r\n\t\t\tsellButton.style.background = '#000';\r\n\t\t\tbuyButtonCell.appendChild(buyButton);\r\n\t\t\tsellButtonCell.appendChild(sellButton);\r\n\r\n\t\t\t// modify the bank symbols (o h n o)\r\n\t\t\tlet symbolsDiv = (good.l.children[0] as HTMLElement);\r\n\t\t\tsymbolsDiv.style.height = '32px';\r\n\t\t\t//symbolsDiv.style.float = 'left';\r\n\t\t\t//symbolsDiv.style.width = '205px';\r\n\t\t\tsymbolsDiv.appendChild(symbolTable);\r\n\t\t\t//symbolsDiv.insertBefore(symbolTable, symbolsDiv.children[0]);\r\n\t\t\tsymbolsDiv.appendChild(rightTable);\r\n\t\t\t\r\n\t\t\tsymbolTable.setAttribute('onmouseout', symbolsDiv.getAttribute('onmouseout'));\r\n\t\t\tsymbolTable.setAttribute('onmouseover', symbolsDiv.getAttribute('onmouseover'));\r\n\t\t\tsymbolsDiv.removeAttribute('onmouseout');\r\n\t\t\tsymbolsDiv.removeAttribute('onmouseover');\r\n\r\n\t\t\tlet titleSymbol = percentSpan.parentElement;\r\n\t\t\t//titleSymbol.style.float = 'left';\r\n\t\t\ttitleSymbol.style.width = '40px';\r\n\t\t\t//titleSymbol.style.height = '28px';\r\n\t\t\ttitleSymbol.style.padding = '1px 0px';\r\n\t\t\t//titleSymbol.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\ttitleSymbol.removeChild(percentSpan);\r\n\t\t\tlet titleDiv = document.createElement('div');\r\n\t\t\ttitleDiv.innerHTML = titleSymbol.innerHTML.trim();\r\n\t\t\ttitleSymbol.innerHTML = '';\r\n\t\t\ttitleSymbol.style.background = 'unset';\r\n\t\t\t//titleDiv.style.paddingTop = '8px';\r\n\t\t\ttitleDiv.style.fontSize = '13px';\r\n\t\t\t//titleDiv.style.position = 'relative';\r\n\t\t\t//titleSymbol.appendChild(icon);\r\n\t\t\ttitleSymbol.appendChild(titleDiv);\r\n\t\t\tnameCell.appendChild(titleSymbol);\r\n\t\t\tnameCell.style.verticalAlign = 'middle';\r\n\t\t\tnameCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\r\n\t\t\tlet percentSymbol = document.createElement('div');\r\n\t\t\tlet percentSpanDiv = document.createElement('div');\r\n\t\t\tpercentSpanDiv.style.paddingRight = '2px';\r\n\t\t\tpercentSymbol.className = \"bankSymbol\";\r\n\t\t\tpercentSymbol.style.margin = '0px 1px';\r\n\t\t\tpercentSymbol.style.padding = '2px 0px';\r\n\t\t\t//percentSymbol.style.float = 'left';\r\n\t\t\tpercentSymbol.style.textAlign = 'right';\r\n\t\t\tpercentSymbol.style.width = '60px';\r\n\t\t\tpercentSymbol.style.overflow = 'hidden';\r\n\t\t\tpercentSymbol.style.background = 'unset';\r\n\t\t\tpercentCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\tpercentSpanDiv.appendChild(percentSpan);\r\n\t\t\tpercentSymbol.appendChild(percentSpanDiv);\r\n\t\t\tpercentCell.appendChild(percentSymbol);\r\n\t\t\t\r\n\t\t\tlet valueSymbol = valueSpan.parentElement;\r\n\t\t\tvalueSpan.style.marginLeft = '4px';\r\n\t\t\tvalueSymbol.style.margin = '0px 0px';\r\n\t\t\tvalueSymbol.style.background = 'unset';\r\n\t\t\t//valueSymbol.style.float = 'left';\r\n\t\t\tvalueSymbol.style.width = '50px';\r\n\t\t\tvalueSymbol.style.textAlign = 'left';\r\n\t\t\tvalueSymbol.style.display = 'inline-block';\r\n\t\t\tvalueCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\tvalueSymbol.innerHTML = '';\r\n\t\t\tvalueSymbol.appendChild(valueSpan);\r\n\t\t\tvalueCell.appendChild(valueSymbol);\r\n\r\n\t\t\tlet stockMaxSymbol = stockMaxSpan.parentElement;\r\n\t\t\tstockMaxSymbol.style.margin = '0px 0px';\r\n\t\t\tstockMaxSymbol.style.background = '';\r\n\t\t\tstockMaxSymbol.style.width = '50px';\r\n\t\t\tstockMaxSymbol.style.display = 'inline-block';\r\n\t\t\tstockMaxSymbol.style.background = 'unset';\r\n\t\t\tmaxStockCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\tstockMaxSymbol.innerHTML = '';\r\n\t\t\tstockMaxSymbol.appendChild(stockMaxSpan);\r\n\t\t\tstockMaxSpan.innerHTML = stockMaxSpan.innerHTML.replace('/', '');\r\n\t\t\tmaxStockCell.appendChild(stockMaxSymbol);\r\n\r\n\t\t\tlet ownedStockSymbol = document.createElement('div');\r\n\t\t\townedStockSymbol.className = \"bankSymbol\";\r\n\t\t\townedStockSymbol.id = `bankGood-${good.id}-ownedStockBox`\r\n\t\t\townedStockSymbol.style.margin = '0px 0px';\r\n\t\t\townedStockSymbol.style.padding = '2px 0px';\r\n\t\t\townedStockSymbol.style.width = '50px';\r\n\t\t\townedStockSymbol.style.overflow = 'hidden';\r\n\t\t\townedStockSymbol.style.background = 'unset';\r\n\t\t\townedStockCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\townedStockSymbol.appendChild(stockSpan);\r\n\t\t\townedStockCell.appendChild(ownedStockSymbol);\r\n\r\n\t\t\tlet stockValueSymbol = document.createElement('div');\r\n\t\t\tstockValueSymbol.className = \"bankSymbol\";\r\n\t\t\tstockValueSymbol.id = `bankGood-${good.id}-boughtValueBox`;\r\n\t\t\tstockValueSymbol.style.margin = '0px 0px';\r\n\t\t\tstockValueSymbol.style.padding = '2px 0px';\r\n\t\t\tstockValueSymbol.style.width = '50px';\r\n\t\t\tstockValueSymbol.style.overflow = 'hidden';\r\n\t\t\tstockValueSymbol.style.background = 'unset';\r\n\t\t\tstockValueSymbol.style.textAlign = 'left';\r\n\t\t\tboughtValueCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\tboughtValueCell.appendChild(stockValueSymbol);\r\n\r\n\t\t\tlet profitPercentSymbol = document.createElement('div');\r\n\t\t\tlet profitSpanDiv = document.createElement('div');\r\n\t\t\tprofitSpanDiv.style.paddingRight = '2px';\r\n\t\t\tprofitSpanDiv.id = `bankGood-${good.id}-profitSym`;\r\n\t\t\tprofitSpanDiv.style.visibility = 'hidden';\r\n\t\t\tprofitSpanDiv.innerHTML = '--.--%';\r\n\t\t\tprofitSpanDiv.style.fontWeight = 'normal';\r\n\t\t\tprofitPercentSymbol.className = \"bankSymbol\";\r\n\t\t\tprofitPercentSymbol.style.margin = '0px 1px';\r\n\t\t\tprofitPercentSymbol.style.padding = '2px 0px';\r\n\t\t\tprofitPercentSymbol.style.textAlign = 'right';\r\n\t\t\tprofitPercentSymbol.style.width = '60px';\r\n\t\t\tprofitPercentSymbol.style.overflow = 'hidden';\r\n\t\t\tprofitPercentSymbol.style.background = 'unset';\r\n\t\t\tprofitPercentCell.style.boxShadow = '0px 0px 0px 1px rgba(255,255,255,0.1), 2px 2px 4px rgba(0,0,0,0.5) inset';\r\n\t\t\tprofitPercentSymbol.appendChild(profitSpanDiv);\r\n\t\t\tprofitPercentCell.appendChild(profitPercentSymbol);\r\n\t\t\t//symbolsDiv.insertBefore(percentSymbol, valueSymbol);\r\n\t\t}\r\n\t\theaderL.appendChild(goodsDiv);\r\n\r\n\t\tstockMarket.draw = Cppkies.injectCode(stockMarket.draw,\r\n\t\t\t`.vals[0]*M.graphScale))+'px) scale(0.5)';`,\r\n\t\t\t`\\nif(!me.ownedStockBoxL) me.ownedStockBoxL = l('bankGood-'+me.id+'-ownedStockBox');\r\n\t\t\t\r\n\t\t\tif(me.stockBoxL.classList.contains('green') && !me.ownedStockBoxL.classList.contains('green')) me.ownedStockBoxL.classList.add('green');\r\n\t\t\telse if(!me.stockBoxL.classList.contains('green') && me.ownedStockBoxL.classList.contains('green')) me.ownedStockBoxL.classList.remove('green');\r\n\t\t\tif(me.stockBoxL.classList.contains('green')) me.stockBoxL.classList.remove('green');\r\n\t\t\t\r\n\t\t\tme.stockMaxL.innerHTML = me.stockMaxL.innerHTML.replace('/', '');\r\n\t\t\t\r\n\t\t\tif(!me.profitSpanL) me.profitSpanL = l('bankGood-'+me.id+'-profitSym');\r\n\t\t\tif(OmniCookies.settings.stockValueData) {\r\n\t\t\t\tme.profitSpanL.style.visibility = 'visible';\r\n\t\t\t\tlet avg = OmniCookies.saveData.stockAverages[me.id];\r\n\t\t\t\tif(avg && avg.totalValue > 0) {\r\n\t\t\t\t\tlet percent = (me.val/avg.avgValue - 1) * 100;\r\n\t\t\t\t\tme.profitSpanL.innerHTML = Beautify(percent, 2) + '%';\r\n\t\t\t\t\tme.profitSpanL.style.paddingRight = '2px';\r\n\t\t\t\t\tif (percent>=0) {me.profitSpanL.classList.add('bankSymbolUp');me.profitSpanL.classList.remove('bankSymbolDown');}\r\n\t\t\t\t\telse if (percent<0) {me.profitSpanL.classList.remove('bankSymbolUp');me.profitSpanL.classList.add('bankSymbolDown');}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\tme.profitSpanL.classList.remove('bankSymbolUp');\r\n\t\t\t\t\t\tme.profitSpanL.classList.remove('bankSymbolDown');\r\n\t\t\t\t\t\tme.profitSpanL.style.paddingRight = '12px';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tme.profitSpanL.classList.remove('bankSymbolUp');\r\n\t\t\t\t\tme.profitSpanL.classList.remove('bankSymbolDown');\r\n\t\t\t\t\tme.profitSpanL.innerHTML = '--.--%';\r\n\t\t\t\t\tme.profitSpanL.style.paddingRight = '12px';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tme.profitSpanL.style.visibility = 'hidden';\r\n\t\t\t}`,\r\n\t\t\t'after',\r\n\t\t\t{ M: stockMarket }\r\n\t\t);\r\n\r\n\t\tGame.Logic = Cppkies.injectCode(Game.Logic,\r\n\t\t\t`OmniCookies.vars.prevShortcut = activeShortcut;`,\r\n\t\t\t`if(activeShortcut != OmniCookies.vars.prevShortcut) {\r\n\t\t\t\tfor(let goodId in Game.Objects['Bank'].minigame.goodsById) {\r\n\t\t\t\t\tlet buyButton = document.getElementById('bankGood-'+goodId+'_Max');\r\n\t\t\t\t\tlet sellButton = document.getElementById('bankGood-'+goodId+'_-All');\r\n\t\t\t\t\tlet amount = 1;\r\n\t\t\t\t\tswitch(activeShortcut) {\r\n\t\t\t\t\t\tcase 0: amount = 1; break;\r\n\t\t\t\t\t\tcase 1: amount = 10; break;\r\n\t\t\t\t\t\tcase 2: amount = 100; break;\r\n\t\t\t\t\t\tcase 3: amount = -1; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(amount == -1) {\r\n\t\t\t\t\t\tbuyButton.innerHTML = 'Max';\r\n\t\t\t\t\t\tsellButton.innerHTML = 'All';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tbuyButton.innerHTML = amount.toString();\r\n\t\t\t\t\t\tsellButton.innerHTML = amount.toString();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\\n`,\r\n\t\t\t'before'\r\n\t\t);\r\n\r\n\t\tlet awesomeInject: InjectParams = [\r\n\t\t\tnull,\r\n\t\t\t`\\nlet oldN = n;\r\n\t\t\tswitch(OmniCookies.vars.prevShortcut) {\r\n\t\t\t\tcase 0: n = 1; break;\r\n\t\t\t\tcase 1: n = 10; break;\r\n\t\t\t\tcase 2: n = 100; break;\r\n\t\t\t\tcase 3: n = 10000; break;\r\n\t\t\t}\r\n\t\t\tn *= Math.sign(oldN);`,\r\n\t\t\t'before'\r\n\t\t];\r\n\t\t\r\n\t\tstockMarket.buyGood = Cppkies.injectCode(stockMarket.buyGood, ...awesomeInject, { M: stockMarket });\r\n\t\tstockMarket.sellGood = Cppkies.injectCode(stockMarket.sellGood, ...awesomeInject, { M: stockMarket });\r\n\t\tstockMarket.tradeTooltip = Cppkies.injectCode(stockMarket.tradeTooltip, ...awesomeInject, { M: stockMarket });\r\n\r\n\t\tstockMarket.toRedraw = (2 as any);\r\n\t});\r\n})\r\n\r\nexport let drawTimerFix = new Patch(function() {\r\n\tGame.Loop = Cppkies.injectCodes(Game.Loop, [\r\n\t\t[\r\n\t\t\t`Timer.say('DRAW');`,\r\n\t\t\t`//`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[\r\n\t\t\t`Timer.say('END DRAW');`,\r\n\t\t\t`//`,\r\n\t\t\t'before'\r\n\t\t]\r\n\t]);\r\n\tGame.Draw = Cppkies.injectCodes(Game.Draw, [\r\n\t\t[\r\n\t\t\tnull,\r\n\t\t\t`\\nTimer.say('DRAW');`,\r\n\t\t\t'before'\r\n\t\t],\r\n\t\t[\r\n\t\t\tnull,\r\n\t\t\t`Timer.say('END DRAW');\\n`,\r\n\t\t\t'after'\r\n\t\t]\r\n\t])\r\n})","import { Settings, settings } from './Settings'\r\nimport { name, vars, version } from './Vars'\r\nimport * as Util from './Util'\r\nimport * as Patches from './Patches'\r\n\r\ninterface ButtonOption {\r\n\t/** Text to display while this option is selected */\r\n\ttext: string\r\n\r\n\t/** Function to run when this option is selected */\r\n\tfunc?: () => void\r\n\r\n\t/** Whether this option should display as \"off\" */\r\n\toff?: boolean\r\n}\r\n\r\ninterface ConfigElement {\r\n\tdisplay: () => HTMLElement\r\n}\r\n\r\nclass OptionedButton<T extends keyof Settings> implements ConfigElement {\r\n\tsettingName: T\r\n\toptions: ButtonOption[]\r\n\tdesc: string\r\n\tid: string\r\n\tconstructor(settingName: T, options: ButtonOption[], desc: string) {\r\n\t\tthis.settingName = settingName;\r\n\t\tthis.options = options;\r\n\t\tthis.desc = desc;\r\n\t\tthis.id = \"OmniCookiesButton_\" + this.settingName;\r\n\t}\r\n\tdisplay(): HTMLDivElement {\r\n\t\tlet div = document.createElement('div');\r\n\t\r\n\t\tlet set = Number(settings[this.settingName]);\r\n\t\tlet selected = this.options[set];\r\n\t\tif(!selected) selected = { text: `ERROR! No option ${set}`, off: true }\r\n\t\tlet a = document.createElement('a');\r\n\t\ta.id = this.id;\r\n\t\ta.className = 'option' + (selected.off ? ' off' : '');\r\n\t\ta.onclick = this.toggleFunction();\r\n\t\ta.innerHTML = selected.text;\r\n\t\tdiv.appendChild(a);\r\n\r\n\t\tlet label = document.createElement('label');\r\n\t\tlabel.innerHTML = this.desc;\r\n\t\tdiv.appendChild(label);\r\n\r\n\t\treturn div;\r\n\t}\r\n\ttoggleFunction(): () => void {\r\n\t\tlet settingName = (this.settingName as string);\r\n\t\tlet options = this.options;\r\n\t\tlet buttonId = this.id;\r\n\t\treturn () => {\r\n\t\t\tsettings[settingName]++;\r\n\t\t\tif(settings[settingName] >= options.length) settings[settingName] = 0;\r\n\t\t\tlet element = document.getElementById(buttonId);\r\n\t\t\tlet selected = options[settings[settingName]];\r\n\t\t\tif(selected.off) element.classList.add('off');\r\n\t\t\telse element.classList.remove('off');\r\n\t\t\tif(selected.func) selected.func();\r\n\t\t\telement.innerHTML = selected.text;\r\n\t\t\tPlaySound('snd/tick.mp3');\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass BooleanButton<T extends keyof Settings> extends OptionedButton<T> {\r\n\tonOption: ButtonOption\r\n\toffOption: ButtonOption\r\n\tconstructor(settingName: T, onOption: ButtonOption, offOption: ButtonOption, desc: string) {\r\n\t\tsuper(settingName, [offOption, onOption], desc);\r\n\t\tthis.onOption = onOption;\r\n\t\tthis.offOption = offOption;\r\n\t\toffOption.off = true;\r\n\t}\r\n}\r\n\r\nclass Slider<T extends keyof Settings> implements ConfigElement {\r\n\ttitle: string\r\n\tsettingName: T\r\n\tmin: number\r\n\tmax: number\r\n\tstep: number\r\n\tformat: (num: number) => string\r\n\tconstructor(settingName: T, title: string, min: number, max: number, step: number, format: (num: number) => string) {\r\n\t\tthis.settingName = settingName;\r\n\t\tthis.title = title;\r\n\t\tthis.min = min;\r\n\t\tthis.max = max;\r\n\t\tthis.step = step;\r\n\t\tthis.format = format;\r\n\t}\r\n\tdisplay() {\r\n\t\tlet value = (settings[this.settingName] as number);\r\n\t\tlet box = document.createElement('div');\r\n\t\tbox.className = 'sliderBox';\r\n\r\n\t\tlet title = document.createElement('div');\r\n\t\ttitle.style.float = 'left';\r\n\t\ttitle.innerHTML = this.title;\r\n\t\tbox.appendChild(title);\r\n\r\n\t\tlet sliderRightText = document.createElement('div');\r\n\t\tsliderRightText.id = `OmniCookiesSlider_${this.settingName}RightText`\r\n\t\tsliderRightText.style.float = 'right';\r\n\t\tsliderRightText.innerHTML = this.format(value);\r\n\t\tbox.appendChild(sliderRightText);\r\n\r\n\t\tlet input = document.createElement('input');\r\n\t\tinput.id = `OmniCookiesSlider_${this.settingName}Slider`\r\n\t\tinput.style.clear = 'both';\r\n\t\tinput.type = 'range';\r\n\t\tinput.min = this.min.toString();\r\n\t\tinput.max = this.max.toString();\r\n\t\tinput.step = this.step.toString();\r\n\t\tinput.value = value.toString();\r\n\t\tlet format = this.format;\r\n\t\tlet settingName = this.settingName;\r\n\t\tinput.onchange = (ev) => {\r\n\t\t\tlet slider = (ev.target as HTMLInputElement);\r\n\t\t\tsettings[settingName] = (Math.round(Number(slider.value)) as any);\r\n\t\t\tsliderRightText.innerHTML = format(Number(slider.value));\r\n\t\t}\r\n\t\tinput.oninput = (ev) => {\r\n\t\t\tlet slider = (ev.target as HTMLInputElement);\r\n\t\t\tsettings[settingName] = (Math.round(Number(slider.value)) as any);\r\n\t\t\tsliderRightText.innerHTML = format(Number(slider.value));\r\n\t\t}\r\n\t\tinput.onmouseup = () => {\r\n\t\t\tPlaySound('snd/tick.mp3');\r\n\t\t}\r\n\t\tbox.appendChild(input);\r\n\r\n\t\treturn box;\r\n\t}\r\n}\r\n\r\nclass Header implements ConfigElement {\r\n\ttext: string\r\n\tconstructor(text: string) {\r\n\t\tthis.text = text;\r\n\t}\r\n\tdisplay(): HTMLDivElement {\r\n\t\tvar div = document.createElement('div');\r\n\t\tdiv.className = 'listing';\r\n\t\tdiv.style.padding = '5px 16px';\r\n\t\tdiv.style.opacity = '0.7';\r\n\t\tdiv.style.fontSize = '17px';\r\n\t\tdiv.style.fontFamily = '\\\"Kavoon\\\", Georgia, serif';\r\n\t\tdiv.appendChild(document.createTextNode(this.text));\r\n\t\treturn div;\r\n\t}\r\n}\r\n\r\nclass Title implements ConfigElement {\r\n\ttext: string\r\n\tconstructor(text: string) {\r\n\t\tthis.text = text;\r\n\t}\r\n\tdisplay(): HTMLDivElement {\r\n\t\tlet title = document.createElement('div');\r\n\t\ttitle.className = 'title';\r\n\t\ttitle.innerHTML = this.text;\r\n\t\treturn title;\r\n\t}\r\n}\r\n\r\nclass Listing implements ConfigElement {\r\n\telements: ConfigElement[]\r\n\tconstructor(elements: ConfigElement[]) {\r\n\t\tthis.elements = elements;\r\n\t}\r\n\tdisplay(): HTMLDivElement {\r\n\t\tlet div = document.createElement('div');\r\n\t\tdiv.className = 'listing';\r\n\t\tfor(let element of this.elements) {\r\n\t\t\tdiv.appendChild(element.display());\r\n\t\t}\r\n\t\treturn div;\r\n\t}\r\n}\r\n\r\n/** Returns an empty div if not in open sesame mode */\r\nclass SesameListing extends Listing {\r\n\tdisplay() {\r\n\t\tlet div = super.display();\r\n\t\tdiv.style.display = Game.sesame ? div.style.display : 'none';\r\n\t\treturn div;\r\n\t}\r\n}\r\n\r\nclass SesameHeader extends Header {\r\n\tdisplay() {\r\n\t\tlet div = super.display();\r\n\t\tdiv.style.display = Game.sesame ? div.style.display : 'none';\r\n\t\treturn div;\r\n\t}\r\n}\r\n\r\nclass ConfigMenu {\r\n\telements: ConfigElement[]\r\n\tconstructor(elements: ConfigElement[]) {\r\n\t\tthis.elements = elements;\r\n\t}\r\n\tdisplay(): DocumentFragment {\r\n\t\tlet frag = document.createDocumentFragment();\r\n\t\tfor(let element of this.elements) {\r\n\t\t\tfrag.appendChild(element.display());\r\n\t\t}\r\n\t\treturn frag;\r\n\t}\r\n}\r\n\r\nlet menuDisplay = new ConfigMenu([\r\n\tnew Title(`${name} ${version}`),\r\n\tnew Header(\"Graphical tweaks\"),\r\n\tnew Listing([\r\n\t\tnew BooleanButton('autoScrollbar', \r\n\t\t\t{ text: 'Autohide center scrollbar ON', func: () => Util.scrollbarStyle('auto') },\r\n\t\t\t{ text: 'Autohide center scrollbar OFF', func: () => Util.scrollbarStyle('scroll') },\r\n\t\t\t'(the scrollbar in the center view will hide itself when appropriate)'\r\n\t\t),\r\n\t\tnew BooleanButton('scrollingBuildings',\r\n\t\t\t{ text: 'Scroll buildings ON' },\r\n\t\t\t{ text: 'Scroll buildings OFF' },\r\n\t\t\t'(hovering over the left/right edges of buildings produces a scroll effect)'\r\n\t\t),\r\n\t\tnew BooleanButton('smoothBuildings',\r\n\t\t\t{ text: 'Smooth buildings ON' },\r\n\t\t\t{ text: 'Smooth buildings OFF' },\r\n\t\t\t'(buildings draw every frame, instead of every 3 frames)'\r\n\t\t),\r\n\t\tnew BooleanButton('betterBuildingTooltips',\r\n\t\t\t{ text: 'Improved building tooltips ON', func: () => Patches.buildingTooltips.apply() },\r\n\t\t\t{ text: 'Improved building tooltips OFF' },\r\n\t\t\t'(building tooltips in the shop look a little better)'\r\n\t\t),\r\n\t\tnew BooleanButton('betterGrandmas',\r\n\t\t\t{ text: 'Grandma fixes ON', func: () => Patches.miscGrandmaFixes.apply() },\r\n\t\t\t{ text: 'Grandma fixes OFf' },\r\n\t\t\t'(text and ordering fixes for grandma synergy upgrades; disabling requires refresh)'\r\n\t\t),\r\n\t\tnew BooleanButton('bringGrandmaToWork',\r\n\t\t\t{ text: 'Bring grandma to work day ON' },\r\n\t\t\t{ text: 'Bring grandma to work day OFF' },\r\n\t\t\t'(synergy grandmas make an appearance in their respective building views)'\r\n\t\t),\r\n\t\tnew BooleanButton('separateTechs',\r\n\t\t\t{ text: 'Separate techs ON', func: () => Patches.statsUpgradeCategories.apply() },\r\n\t\t\t{ text: 'Separate techs OFF' },\r\n\t\t\t'(gives tech upgrades their own upgrade category under cookies)'\r\n\t\t),\r\n\t\tnew BooleanButton('separateSeasons',\r\n\t\t\t{ text: 'Separate seasons ON', func: () => Patches.statsUpgradeCategories.apply() },\r\n\t\t\t{ text: 'Separate seasons OFF' },\r\n\t\t\t'(gives seasonal upgrades their own upgrade category under cookies)'\r\n\t\t),\r\n\t\tnew BooleanButton('displaySeasons',\r\n\t\t\t{ text: 'Display seasonal sources ON', func: () => Patches.displaySeasonUnlock.apply() },\r\n\t\t\t{ text: 'Display seasonal sources OFF' },\r\n\t\t\t'(shows source season in upgrade tooltips)'\r\n\t\t),\r\n\t\tnew BooleanButton('fancyMilkSelect',\r\n\t\t\t{ text: 'Fancy milk select ON' },\r\n\t\t\t{ \r\n\t\t\t\ttext: 'Fancy milk select OFF',\r\n\t\t\t\tfunc: () => {\r\n\t\t\t\t\tUtil.switchMilkIcon(1);\r\n\t\t\t\t\tvars.lastMilk = -1;\r\n\t\t\t\t\tvars.lastAutoMilk = -1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'(milk selector icon changes with selected milk)'\r\n\t\t),\r\n\t\tnew BooleanButton('tooltipWobble',\r\n\t\t\t{ text: 'Tooltip wobble ON' },\r\n\t\t\t{ text: 'Tooltip wobble OFF', func: () => (Game.tooltip as any).tt.className = 'framed' },\r\n\t\t\t'(enables the tooltip wobble animation)'\r\n\t\t),\r\n\t\tnew BooleanButton('improveAscendMeter',\r\n\t\t\t{ text: 'Fancy ascend meter ON' },\r\n\t\t\t{\r\n\t\t\t\ttext: 'Fancy ascend meter OFF', \r\n\t\t\t\tfunc: () => (Game.ascendMeter as HTMLElement).style.removeProperty('width') \r\n\t\t\t},\r\n\t\t\t'(meter and number total update faster and smoother)'\r\n\t\t),\r\n\t\t// Not yet\r\n\t\t/*new Slider('ascendMeterPrecision', 'Ascend Meter Precision',\r\n\t\t\t0, 12, 1,\r\n\t\t\t(num: number) => Beautify(10**num)\r\n\t\t),*/\r\n\t\tnew BooleanButton('heavenlyCookies',\r\n\t\t\t{ text: 'Heavenly cookies ON', func: () => Patches.heavenlyCookies.apply() },\r\n\t\t\t{ text: 'Heavenly cookies OFF' },\r\n\t\t\t'(certain heavenly upgrades act like cookie upgrades)'\r\n\t\t),\r\n\t\tnew OptionedButton('buildingsBypassFancy',\r\n\t\t\t[\r\n\t\t\t\t{ text: 'Buildings always FANCY' },\r\n\t\t\t\t{ text: 'Buildings always FAST' },\r\n\t\t\t\t{ text: 'Buildings always DEFAULT', off: true }\r\n\t\t\t],\r\n\t\t\t'(buildings follow this setting rather than default)'\r\n\t\t),\r\n\t\tnew OptionedButton('cursorsBypassFancy',\r\n\t\t\t[\r\n\t\t\t\t{ text: 'Cursors always FANCY' },\r\n\t\t\t\t{ text: 'Cursors always FAST' },\r\n\t\t\t\t{ text: 'Cursors always DEFAULT', off: true }\r\n\t\t\t],\r\n\t\t\t'(cursors follow this setting rather than default)'\r\n\t\t),\r\n\t\tnew OptionedButton('wrinklersBypassFancy',\r\n\t\t\t[\r\n\t\t\t\t{ text: 'Wrinklers always FANCY' },\r\n\t\t\t\t{ text: 'Wrinklers always FAST' },\r\n\t\t\t\t{ text: 'Wrinklers always DEFAULT', off: true }\r\n\t\t\t],\r\n\t\t\t'(wrinklers follow this setting rather than default)'\r\n\t\t)\r\n\t]),\r\n\tnew Header(\"Quality of Life\"),\r\n\tnew Listing([\r\n\t\tnew BooleanButton('enhancedBulk',\r\n\t\t\t{ text: 'Enhanced bulk ON', func: () => Patches.updateBulkAll() },\r\n\t\t\t{ text: 'Enhanced bulk OFF', func: () => Patches.updateBulkAll() },\r\n\t\t\t'(allows partial and maximum bulk purchases)'\r\n\t\t),\r\n\t\tnew BooleanButton('buffTooltipDuration',\r\n\t\t\t{ text: 'Show buff duration in tooltip ON' }, \r\n\t\t\t{ text: 'Show buff duration in tooltip OFF' },\r\n\t\t\t'(buffs will show their current duration in their tooltip)'\r\n\t\t)\r\n\t]),\r\n\tnew Header(\"Stock Market\"),\r\n\tnew Listing([\r\n\t\tnew BooleanButton('stockValueData',\r\n\t\t\t{ text: 'Stock value data ON' },\r\n\t\t\t{ text: 'Stock value data OFF' },\r\n\t\t\t'(displays information about how profitable your stocks are)'\r\n\t\t),\r\n\t\tnew BooleanButton('dangerousStocks',\r\n\t\t\t{ text: 'Dangerous stocks ON' },\r\n\t\t\t{ text: 'Dangerous stocks OFF' },\r\n\t\t\t'(stock market affects total cookies earned)'\r\n\t\t),\r\n\t\tnew BooleanButton('dangerousBrokers',\r\n\t\t\t{ text: 'Dangerous brokers ON', func: () => Patches.dangerousBrokers.apply() },\r\n\t\t\t{ text: 'Dangerous brokers OFF' },\r\n\t\t\t'(hiring brokers reduces your Stock Market profits)'\r\n\t\t),\r\n\t\tnew BooleanButton('alternateStockMarket',\r\n\t\t\t{ text: 'Alternate layout ON', func: () => Patches.alternateStockMarket.apply() },\r\n\t\t\t{ text: 'Alternate layout OFF' },\r\n\t\t\t'(a more compact layout for goods; disabling requires refresh)'\r\n\t\t)\r\n\t]),\r\n\tnew Header(\"Pantheon\"),\r\n\tnew Listing([\r\n\t\tnew BooleanButton('detailedCyclius',\r\n\t\t\t{ text: 'Cyclius details ON', func: () => Patches.toggleCyclius() },\r\n\t\t\t{ text: 'Cyclius details OFF', func: () => Patches.toggleCyclius() },\r\n\t\t\t'(shows Cyclius\\' current cycles in his tooltip)'\r\n\t\t),\r\n\t\tnew BooleanButton('zonedCyclius',\r\n\t\t\t{ text: 'Zoned Cyclius ON', func: () => Game.recalculateGains = 1 },\r\n\t\t\t{ text: 'Zoned Cyclius OFF', func: () => Game.recalculateGains = 1 },\r\n\t\t\t'(offsets Cyclius based on your time zone, towards GMT+1)'\r\n\t\t),\r\n\t\tnew BooleanButton('trueCyclius',\r\n\t\t\t{ text: 'True Cyclius ON' },\r\n\t\t\t{ text: 'True Cyclius OFF' },\r\n\t\t\t'(cosmetic; Cyclius shows off his power with style)'\r\n\t\t),\r\n\t\tnew BooleanButton('skruuiaRebalance',\r\n\t\t\t{ text: 'Skruuia rebalance ON' },\r\n\t\t\t{ text: 'Skruuia rebalance OFF' },\r\n\t\t\t'(Skruuia\\'s bonus applies to wrinkler suck rate rather than wrinkler pop multiplier)'\r\n\t\t)\r\n\t]),\r\n\tnew Header(\"Grimoire\"),\r\n\tnew Listing([\r\n\t\tnew BooleanButton('improveMagicMeter',\r\n\t\t\t{ text: 'Improved magic meter ON' },\r\n\t\t\t{ text: 'Improved magic meter OFF' },\r\n\t\t\t'(slight improvements to the magic meter; disabling requires refresh)'\r\n\t\t)\r\n\t]),\r\n\tnew Header(\"Experimental\"),\r\n\tnew Listing([\r\n\t\tnew BooleanButton('optimizeBuildings',\r\n\t\t\t{ text: 'Buildings draw smart ON' },\r\n\t\t\t{ text: 'Buildings draw smart OFF' },\r\n\t\t\t'(buildings attempt to skip unnecessary draw frames)'\r\n\t\t),\r\n\t\tnew BooleanButton('preserveWrinklers',\r\n\t\t\t{ text: 'Preserve wrinklers ON' },\r\n\t\t\t{ text: 'Preserve wrinklers OFF' },\r\n\t\t\t'(attempts to preserve all wrinkler data on game save/load)'\r\n\t\t),\r\n\t\tnew BooleanButton('cursedFinger',\r\n\t\t\t{ text: 'Cursed Finger tweaks ON', func: () => Patches.cursedFingerTweaks.apply() },\r\n\t\t\t{ text: 'Cursed Finger tweaks OFF', func: () => Patches.cursedFingerTweaks.remove() },\r\n\t\t\t'(CF does not snapshot and counts as real passive CpS)'\r\n\t\t),\r\n\t\tnew BooleanButton('buildingPriceBuff',\r\n\t\t\t{\r\n\t\t\t\ttext: 'Building price buff ON', \r\n\t\t\t\tfunc: () => {\r\n\t\t\t\t\tPatches.buildingPriceBuff.apply();\r\n\t\t\t\t\tGame.storeToRefresh = 1;\r\n\t\t\t\t} \r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttext: 'Building price buff OFF',\r\n\t\t\t\tfunc: () => {\r\n\t\t\t\t\tGame.storeToRefresh = 1;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t'(building price modifiers instead affect price scaling; <span class=\"warning\">balance warning</span>)'\r\n\t\t),\r\n\t\tnew BooleanButton('optiCookies',\r\n\t\t\t{ text: 'OptiCookies ON', func: () => Patches.optiCookies.apply() },\r\n\t\t\t{ text: 'OptiCookies OFF' },\r\n\t\t\t'(a couple of small performance tweaks; disabling requires refresh)'\r\n\t\t)\r\n\t]),\r\n\tnew SesameHeader('Debug'),\r\n\tnew SesameListing([\r\n\t\tnew BooleanButton('drawTimerFix',\r\n\t\t\t{ text: 'Draw timer fix ON', func: () => Patches.drawTimerFix.apply() },\r\n\t\t\t{ text: 'Draw timer fix OFF' },\r\n\t\t\t'(adjusts placement of Timer.say for Game.Draw)'\r\n\t\t)\r\n\t])\r\n])\r\n\r\nexport function customOptionsMenu(): void {\r\n\tif(!(Game.onMenu == 'prefs')) return;\r\n\r\n\tlet frag = menuDisplay.display();\r\n\r\n\tl('menu').childNodes[2].insertBefore(frag, l('menu').childNodes[2].childNodes[l('menu').childNodes[2].childNodes.length - 1]);\r\n}","import * as Util from './Util'\r\nimport { saveData } from './SaveData'\r\nimport { settings } from './Settings'\r\nimport { vars } from './Vars'\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tSpice: any\r\n\t\tSimpleBeautify: Function // WHYYYYYYYYYYYYY\r\n\t}\r\n}\r\n\r\nclass RoutineFunction {\r\n\tfunc: () => void\r\n\tenabled: () => boolean\r\n\tconstructor(func: () => void, enabled: () => boolean = function() { return true; }) {\r\n\t\tthis.func = func;\r\n\t\tthis.enabled = enabled;\r\n\t}\r\n}\r\n\r\nclass Routine {\r\n\troutines: Record<string, RoutineFunction>\r\n\tconstructor(routines: Record<string, RoutineFunction> = {}) { this.routines = routines }\r\n\trun() {\r\n\t\tfor(let r in this.routines) {\r\n\t\t\tif(this.routines[r].enabled && this.routines[r].enabled()) {\r\n\t\t\t\tthis.routines[r].func();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tregister(name: string, func: () => void) {\r\n\t\tthis.routines[name] = new RoutineFunction(func);\r\n\t}\r\n}\r\n\r\nclass RoutineCollection implements Record<string, RoutineFunction> {\r\n\t[routine: string]: RoutineFunction\r\n}\r\n\r\nclass LogicRoutineCollection extends RoutineCollection {\r\n\t/**\r\n\t * Very fancy ascend meter\r\n\t * Basically has to recalculate everything. Thanks game.\r\n\t * At least there's no loops involved so it's not too slow.\r\n\t */\r\n\timproveAscendMeter = new RoutineFunction(function() {\r\n\t\tlet ascendMeter = Game.ascendMeter as HTMLElement; // y o\r\n\t\tlet ascendNumber = Game.ascendNumber as HTMLElement;\r\n\r\n\t\t// Recalculate everything. Thanks game...\r\n\t\tlet chipsOwned=Game.HowMuchPrestige(Game.cookiesReset);\r\n\t\tlet ascendNowToOwn=Math.floor(Game.HowMuchPrestige(Game.cookiesReset+Game.cookiesEarned));\r\n\t\tlet ascendNowToGet=ascendNowToOwn-Math.floor(chipsOwned);\r\n\r\n\t\tlet Spice = window.Spice;\r\n\t\t// Spiced cookies\r\n\t\tif(typeof Spice != 'undefined' && Spice.settings.numericallyStableHeavenlyChipGains) {\r\n\t\t\tascendNowToGet = Spice.stableHeavenlyChipGains();\r\n\t\t}\r\n\r\n\t\tlet nextChipAt=Game.HowManyCookiesReset(Math.floor(chipsOwned+ascendNowToGet+1))-Game.HowManyCookiesReset(Math.floor(chipsOwned+ascendNowToGet));\r\n\t\tlet cookiesToNext=Game.HowManyCookiesReset(ascendNowToOwn+1)-(Game.cookiesEarned+Game.cookiesReset);\r\n\t\tlet percent=1-(cookiesToNext/nextChipAt);\r\n\t\t\r\n\t\tif(!vars.ascendMeterPercent) vars.ascendMeterPercent = percent;\r\n\t\tif(!vars.ascendMeterLevel) vars.ascendMeterLevel = ascendNowToGet;\r\n\t\tif(ascendNowToGet != vars.ascendMeterLevel) {\r\n\t\t\tvars.levelDiff += ascendNowToGet - vars.ascendMeterLevel;\r\n\t\t\tvars.ascendMeterLevel = ascendNowToGet;\r\n\t\t}\r\n\r\n\t\tGame.ascendMeterPercent = vars.ascendMeterPercent;\r\n\r\n\t\t// Adjust by 10% of the level difference each tick\r\n\t\tlet velocity = (vars.levelDiff + percent - Game.ascendMeterPercent) * 0.1;\r\n\t\tGame.ascendMeterPercent += velocity;\r\n\r\n\t\t// Stay at maximum or minimum when going more than a whole bar in a single frame\r\n\t\tlet superspeed = false;\r\n\t\tlet superspeedRev = false;\r\n\t\tif(Game.ascendMeterPercent >= 2) superspeed = true;\r\n\t\tif(Game.ascendMeterPercent <= -1) superspeedRev = true; \r\n\r\n\t\t// Update level difference and fix negative meter values\r\n\t\tif(Game.ascendMeterPercent >= 1) vars.levelDiff -= Math.floor(Game.ascendMeterPercent);\r\n\t\tif(Game.ascendMeterPercent < 0) vars.levelDiff -= Math.floor(Game.ascendMeterPercent);\r\n\t\tif(Game.ascendMeterPercent < 0) Game.ascendMeterPercent = (1 - Math.abs(Game.ascendMeterPercent));\r\n\r\n\t\tGame.ascendMeterPercent %= 1;\r\n\t\tascendMeter.style.transform = '';\r\n\r\n\t\tlet perc = Game.ascendMeterPercent * 100;\r\n\t\tperc = superspeed ? 100 : perc;\r\n\t\tperc = superspeedRev ? 0 : perc;\r\n\r\n\t\tascendMeter.style.width = (perc+'%');\r\n\t\tascendNumber.textContent='+'+window.SimpleBeautify(ascendNowToGet - vars.levelDiff);\r\n\r\n\t\tvars.ascendMeterPercent = Game.ascendMeterPercent;\r\n\t}, () => {\r\n\t\tif(settings.improveAscendMeter) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\tlet ascendMeter = Game.ascendMeter as HTMLElement;\r\n\t\t\tascendMeter.style.removeProperty('width');\r\n\t\t\treturn false;\r\n\t\t}\r\n\t});\r\n\t/**\r\n\t * If enabled, Skruuia modifies wrinkler cookie consumption.\r\n\t * This increases the amount of cookies that get multiplied by the wrinklers.\r\n\t * Mathematically it's the same, but needs Skruuia to stay slotted in.\r\n\t */\r\n\tupdateSkruuiaRebalance = new RoutineFunction(function() {\r\n\t\tlet godEff = 1;\r\n\t\tif(settings.skruuiaRebalance && Game.hasGod) {\r\n\t\t\tlet godLvl = Game.hasGod('scorn');\r\n\t\t\tswitch(godLvl) {\r\n\t\t\t\tcase 1: godEff = 1.15; break;\r\n\t\t\t\tcase 2: godEff = 1.10; break;\r\n\t\t\t\tcase 3: godEff = 1.05; break;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet pantheon = Game.Objects['Temple'].minigame;\r\n\t\tif(pantheon) {\r\n\t\t\tif(typeof pantheon.effs == 'undefined') pantheon.effs = ({} as any);\r\n\t\t\tif(godEff != pantheon.effs['wrinklerEat']) Game.recalculateGains = 1;\r\n\t\t\tpantheon.effs['wrinklerEat'] = godEff;\r\n\t\t}\r\n\t});\r\n\r\n\t/** In enhanced bulk mode, refresh store every 10 frames */\r\n\tbulkStoreRefresh = new RoutineFunction(\r\n\t\t() => Game.storeToRefresh = 1, \r\n\t\t() => settings.enhancedBulk && Game.T%10==0\r\n\t);\r\n}\r\nclass LogicRoutine extends Routine { routines: LogicRoutineCollection }\r\nexport let logicRoutine = new LogicRoutine(new LogicRoutineCollection());\r\n\r\nclass DrawRoutineCollection extends RoutineCollection {\r\n\t/** Update icon of milk selector when switching milk types */\r\n\tupdateMilkIcon = new RoutineFunction(function() {\r\n\t\tif(Game.milkType == 0 && Game.Milk != vars.lastAutoMilk) {\r\n\t\t\tUtil.switchMilkIcon(0);\r\n\t\t\tvars.lastAutoMilk = Game.Milk;\r\n\t\t} else if(Game.milkType != vars.lastMilk) {\r\n\t\t\tUtil.switchMilkIcon(Game.milkType);\r\n\t\t\tvars.lastMilk = Game.milkType;\r\n\t\t}\r\n\t}, () => settings.fancyMilkSelect)\r\n\r\n\t/** Fixes the graphics on the grimoire magic meter */\r\n\tgrimoireMeterFix = new RoutineFunction(function() {\r\n\t\tthis.hasRun = true;\r\n\r\n\t\tlet magicBar = document.getElementById('grimoireBar');\r\n\t\tif(magicBar) {\r\n\t\t\tlet magicMeter = document.getElementById('grimoireBarFull');\r\n\t\t\tif(magicBar.className.includes('meterContainer')) {\r\n\t\t\t\t// Apply horizontal scaling as well as vertical scaling\r\n\t\t\t\tmagicMeter.style.height = '8px';\r\n\t\t\t\tmagicMeter.style.transform = 'scale(2,2)';\r\n\t\t\t\tmagicMeter.style.transformOrigin = '0 0';\r\n\t\t\t\t\r\n\t\t\t\t// Set up a new container element that can hide the overflow\r\n\t\t\t\tlet div = document.createElement('div');\r\n\t\t\t\tdiv.className = magicBar.className;\r\n\t\t\t\tdiv.style.overflow = 'hidden';\r\n\t\t\t\tdiv.style.height = '100%';\r\n\r\n\t\t\t\tmagicBar.className = '';\r\n\t\t\t\tmagicBar.style.position = 'relative';\r\n\t\t\t\tmagicBar.replaceChild(div, magicMeter);\r\n\t\t\t\tdiv.appendChild(magicMeter);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Since we're using double width sprites now, better halve the real width\r\n\t\t\tmagicMeter.style.width = Number.parseFloat(magicMeter.style.width)/2 + '%';\r\n\t\t}\r\n\t}, function() { return settings.improveMagicMeter || this.hasRun; })\r\n\r\n\t/** Rotates Cyclius along with his current cycle */\r\n\ttrueCyclius = new RoutineFunction(function() {\r\n\t\tlet cyclius = document.getElementById('templeGod3');\r\n\t\tif(cyclius) {\r\n\t\t\tlet icon = (cyclius.getElementsByClassName('usesIcon')[0] as HTMLElement);\r\n\t\t\tlet slot = Game.hasGod('ages');\r\n\t\t\tif(slot) {\r\n\t\t\t\t// Modify the icon styling so the drop shadow doesn't move\r\n\t\t\t\t// Simply places the animation on a div and puts the icon in it\r\n\t\t\t\tif(icon.classList.contains('shadowFilter')) {\r\n\t\t\t\t\tlet div = document.createElement('div');\r\n\t\t\t\t\tdiv.classList.add('templeIcon');\r\n\t\t\t\t\tdiv.classList.add('shadowFilter');\r\n\t\t\t\t\tdiv.style.margin = 'unset';\r\n\t\t\t\t\ticon.classList.remove('shadowFilter');\r\n\t\t\t\t\ticon.style.animation = 'none';\r\n\t\t\t\t\tcyclius.removeChild(icon);\r\n\t\t\t\t\tcyclius.appendChild(div);\r\n\t\t\t\t\tdiv.appendChild(icon);\r\n\t\t\t\t\tvars.patchedTrueCyclius = true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlet interval = 0;\r\n\t\t\t\tlet rotation = 0;\r\n\t\t\t\tif(settings.trueCyclius) {\r\n\t\t\t\t\tswitch(slot) {\r\n\t\t\t\t\t\tcase 1: interval = 3; break;\r\n\t\t\t\t\t\tcase 2: interval = 12; break;\r\n\t\t\t\t\t\tcase 3: interval = 24; break;\r\n\t\t\t\t\t}\r\n\t\t\t\t\trotation = Util.cycliusCalc(interval, settings.zonedCyclius) - Math.PI/2;\r\n\t\t\t\t\ticon.style.setProperty('transform', `rotate(${rotation}rad)`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ticon.style.removeProperty('transform');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif(vars.patchedTrueCyclius) icon.style.removeProperty('transform');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvars.patchedTrueCyclius = false;\r\n\t\t}\r\n\t})\r\n}\r\nclass DrawRoutine extends Routine { routines: DrawRoutineCollection }\r\nexport let drawRoutine = new DrawRoutine(new DrawRoutineCollection());\r\n\r\nclass ResetRoutineCollection extends RoutineCollection {\r\n\t/** Resets the save-specific data */\r\n\tresetSaveData = new RoutineFunction(() => saveData.reset())\r\n\r\n\t/** Sets the scroll of all buildings to 0 */\r\n\tresetScroll = new RoutineFunction(function() {\r\n\t\tfor(let name in Game.Objects) {\r\n\t\t\tlet obj: any = Game.Objects[name];\r\n\t\t\tif(obj.scrollOffX) obj.scrollOffX = 0;\r\n\t\t}\r\n\t})\r\n}\r\nclass ResetRoutine extends Routine { routines: ResetRoutineCollection }\r\nexport let resetRoutine = new ResetRoutine(new ResetRoutineCollection());","import { saveData as _saveData } from \"./SaveData\"\r\nimport { settings as _settings } from \"./Settings\"\r\nimport * as _Logger from './Logger'\r\nimport * as _Util from './Util'\r\nimport * as _Config from './Config'\r\nimport * as _Patches from './Patches'\r\nimport * as _Vars from \"./Vars\"\r\nimport * as _Routines from \"./Routines\"\r\nimport * as _GrandmaSupport from \"./GrandmaSupport\"\r\nimport Cppkies from 'cppkies'\r\n\r\nexport let name = _Vars.name\r\nexport let version = _Vars.version\r\n\r\nexport let Util = _Util\r\nexport let Config = _Config\r\nexport let Patches = _Patches\r\nexport let Logger = _Logger\r\nexport let Routines = _Routines\r\nexport let GrandmaSupport = _GrandmaSupport\r\n\r\nexport let vars = _Vars.vars\r\nexport let settings = _settings\r\nexport let saveData = _saveData\r\n\r\n//#region easter eggs lul\r\nlet grandmaDesc = [\r\n\tchoose([`nice grandmas`, `hard-working grandmas`, `old ladies`]),\r\n\t`farmers`,\r\n\t`miners`,\r\n\t`workers`,\r\n\tchoose([`bankers`, `brokers`, `financial advisors`, `accountants`]),\r\n\t`priestesses`,\r\n\t`witches`,\r\n\tchoose([`aliens`, `bounty hunters`, `spice traders`, `kessel runners`]),\r\n\tchoose([`full-cookie alchemists`, `golden grans`]),\r\n\tchoose([`elder abominations`, `flesh piles`, `doughy beings`]),\r\n\tchoose([`time policemas`, `nice old lady's nice old ladies`]),\r\n\t`antimatter constructs`,\r\n\t`living rainbows`,\r\n\t`leprechauns`,\r\n\t`Cyriak wannabes`,\r\n\tchoose([`NaNnies`, `[Error: cookie is not defined]s`, `['g','r','a','n']s`]),\r\n\tchoose([`spaghetti bakers`, `pancake flippers`, `not-cookie productionists`, `pastry panhandlers`])\r\n]\r\nlet buildingChoice = choose(Game.ObjectsById.slice(1, 18)); //no modded buildings sorry\r\nlet numGrandmas = 0;\r\nif(buildingChoice == Game.Objects['Grandma']) numGrandmas = Game.Objects['Grandma'].amount;\r\nelse numGrandmas = Util.getNumSynergyGrandmas(buildingChoice);\r\nlet grandmaMessage = `Your <b>${numGrandmas} ${grandmaDesc[buildingChoice.id-1]}</b> missed you!`\r\nif(buildingChoice.amount == 0 || numGrandmas <= 0) {\r\n\tgrandmaMessage = `. . . but nobody came`\r\n}\r\nlet startupMessages = [\r\n\t`And then he said,<br>'Let there be cookies'`,\r\n\t`Some dude called ${choose(['theGameMaster1234', 'RobotLucca', 'gamrguy', 'theMineMaster2', 'DeadlyFez'])} made this`,\r\n\t`That ascend meter was getting antsy`,\r\n\tgrandmaMessage,\r\n\t`The cookies have eyes.<br>Watch yourself out there`,\r\n\t`Over the river and through the cookies`,\r\n\t//`Originally, the name was referring to the building scroll feature, which was the first feature I made. Now it probably more accurately refers to the large and slightly random scope of this mod. Despite this I don't think the name is going to change anytime soon, so you had better get used to it. I wonder if anyone can read this fast? If you're reading this and can, how's your day been? It's lonely back here.`,\r\n\t`Thank you for choosing the ${choose(['Typescript', 'Cppkies'])} edition of Omniscient Cookies!<br>(No warranties, no refunds)`,\r\n\t`What do Omniscient Cookies taste like?<br>Study reveals a flavor 'somewhere between amateur Javascript and messy programming'`,\r\n\t`Also try <a href=\"https://github.com/staticvariablejames/SpicedCookies/\" target=\"_blank\">Spiced Cookies</a>!`,\r\n\t`You stared into the cookie,<br>and the cookie stared back`,\r\n\t`Check out the <a href=\"https://github.com/gamrguy/OmniscientCookies/\" target=\"_blank\">GitHub page</a>!`\r\n]\r\n//#endregion\r\n\r\nexport let mod: Game.Mod = {\r\n\tinit: function() {\r\n\t\tPatches.smoothBuildings.apply();\r\n\t\tPatches.scrollingBuildings.apply();\r\n\t\tPatches.buffTooltips.apply();\r\n\t\tPatches.tooltipWobble.apply();\r\n\t\tPatches.cycliusGains.apply();\r\n\t\tPatches.stockInfo.apply();\r\n\t\tPatches.fancyBuildings.apply();\r\n\t\tPatches.fancyCursors.apply();\r\n\t\tPatches.fancyWrinklers.apply();\r\n\t\tPatches.skruuiaRebalance.apply();\r\n\t\tPatches.dangerousStocks.apply();\r\n\t\tPatches.cycliusInfo.apply();\r\n\r\n\t\tCppkies.on('draw', () => Routines.drawRoutine.run());\r\n\t\tCppkies.on('logic', () => Routines.logicRoutine.run());\r\n\t\tCppkies.on('reset', () => Routines.resetRoutine.run());\r\n\t\tCppkies.on('optionsMenu', () => Config.customOptionsMenu());\r\n\r\n\t\tGame.Notify(`Loaded ${name} ${version}`, '<q>' + choose(startupMessages) + '</q>', [10, 31], 6);\r\n\t},\r\n\t\r\n\tsave: function() {\r\n\t\treturn JSON.stringify({\r\n\t\t\tsettings: settings.save(),\r\n\t\t\tsaveData: saveData.save()\r\n\t\t});\r\n\t},\r\n\t\r\n\tload: function(str) {\r\n\t\tlet data = JSON.parse(str);\r\n\t\tsettings.load(data.settings);\r\n\t\tsaveData.load(data.saveData);\r\n\t\r\n\t\tPatches.buySellBulk.apply();\r\n\t\r\n\t\tPatches.scrollbarStyle.toggle(settings.autoScrollbar);\r\n\t\tPatches.buildingTooltips.toggle(settings.betterBuildingTooltips);\r\n\t\tPatches.miscGrandmaFixes.toggle(settings.betterGrandmas);\r\n\t\tPatches.cursedFingerTweaks.toggle(settings.cursedFinger);\r\n\t\tPatches.displaySeasonUnlock.toggle(settings.displaySeasons);\r\n\t\tPatches.statsUpgradeCategories.toggle(settings.separateTechs || settings.separateSeasons);\r\n\t\tPatches.optiCookies.toggle(settings.optiCookies);\r\n\t\tPatches.dangerousBrokers.toggle(settings.dangerousBrokers);\r\n\t\tPatches.heavenlyCookies.toggle(settings.heavenlyCookies);\r\n\t\tPatches.buildingPriceBuff.toggle(settings.buildingPriceBuff);\r\n\t\tPatches.alternateStockMarket.toggle(settings.alternateStockMarket);\r\n\t\tPatches.drawTimerFix.toggle(settings.drawTimerFix);\r\n\t}\r\n}","import * as OmniCookies from './OmniCookies'\r\nimport Cppkies from 'cppkies'\r\n\r\ndeclare global {\r\n\tinterface Window {\r\n\t\tOmniCookies: typeof OmniCookies\r\n\t}\r\n}\r\n\r\nlet OmniCookiesExport: typeof OmniCookies\r\nif(window.OmniCookies) {\r\n\tOmniCookies.Logger.warn(\"Mod loaded twice???\")\r\n\tOmniCookiesExport = window.OmniCookies\r\n} else {\r\n\tCppkies.onLoad.push(function() {\r\n\t\tGame.registerMod(OmniCookies.name, OmniCookies.mod);\r\n\t});\r\n\r\n\tOmniCookiesExport = OmniCookies;\r\n\twindow.OmniCookies = OmniCookies;\r\n}\r\n\r\nexport default OmniCookiesExport;"],"names":["Math","E","abs","sin","PI","max","floor","min","quickCalcMaxBuy","building","scaling","log","Game","priceIncrease","cookies","modifyBuildingPrice","name","basePrice","boughtCount","amount","free","quickCalcBulkPrice","bulk","sell","ceil","sum","buildingCount","powerSumRange","getSellMultiplier","x","start","end","sum1","sum2","cycliusCalc","interval","zoned","cycle","Date","now","getTimezoneOffset","loadData","data","into","key","_a","Object","keys","_i","switchMilkIcon","milkID","milkSelect","Upgrades","icon","Milk","choicesFunction","upgradesToRebuild","getNumSynergyGrandmas","grandma","bought","Objects","id","scrollbarStyle","style","center","document","getElementById","overflowY","onMinigameLoaded","obj","func","setInterval","minigameLoaded","clearInterval","loadCustomAsset","img","Loader","assetsLoading","assetsLoaded","assets","Replace","push","inRect","y","rect","cos","dx","r","h","o","dy","h1","sqrt","currA","atan2","newA","x2","y2","w","warn","message","console","grandmaAmountCalc","num","freq","lastPerc","count","ButtonType","version","vars","lastMilk","lastAutoMilk","buffsById","cursedPs","cursedPsMult","ascendMeterLevel","ascendMeterPercent","levelDiff","patchedTrueCyclius","prevShortcut","bannedPseudoCookies","skipModifyPrice","bannedGrandmas","BypassFancySetting","totalPrice","maxPrice","maxAmount","seconds","wrinkler","cookiesPs","wrinklers","phase","sucked","cpsSucked","cookiesSucked","_c","ObjectsById","_b","totalCookies","storedTotalCps","globalCpsMult","Earn","btn","autoScrollbar","scrollingBuildings","smoothBuildings","buffTooltipDuration","betterBuildingTooltips","betterGrandmas","separateTechs","enhancedBulk","buildingsBypassFancy","Default","cursorsBypassFancy","wrinklersBypassFancy","optimizeBuildings","preserveWrinklers","detailedCyclius","zonedCyclius","trueCyclius","stockValueData","dangerousStocks","tooltipWobble","fancyMilkSelect","improveMagicMeter","skruuiaRebalance","improveAscendMeter","displaySeasons","separateSeasons","bringGrandmaToWork","cursedFinger","optiCookies","dangerousBrokers","heavenlyCookies","buildingPriceBuff","drawTimerFix","alternateStockMarket","Settings","setting","value","settings","stockAverages","frozenWrinks","SaveData","cryosleepWrinklers","thawWrinklers","realWrinks","currentWrinks","SaveWrinklers","thawedWrinks","number","shinies","fps","loopT","normalRatio","shinyRatio","amountShinies","threshold","saveData","error","e","n","module","this","i","constructor","K","prototype","create","Promise","a","t","d","next","s","done","then","apply","TypeError","c","call","label","ops","pop","trys","length","sent","throw","return","Symbol","iterator","arguments","Array","replace","RegExp","test","Error","Function","toString","values","u","charAt","toUpperCase","slice","toLowerCase","p","hasOwnProperty","g","m","achievements","buildings","upgrades","level","auras","won","unlocked","muted","minigameSave","k","mods","foreign","saveVer","dragon","b","Ge","save","Q","v","f","C","L","O","dragonLevels","dragonLevel","dragonAuras","dragonAura","dragonAura2","A","customBuildings","customUpgrades","CountsAsUpgradeOwned","pool","UpgradesOwned","customAchievements","CountsAsAchievementOwned","AchievementsOwned","j","S","JSON","parse","T","stringify","U","Z","P","J","includes","I","Image","addEventListener","crossOrigin","src","M","canvas","toBlob","URL","createObjectURL","G","parseInt","createElement","getContext","width","height","drawImage","_","iconLink","B","X","V","tooltip","buy","levelUp","me","forEach","hooks","on","cps","emit","oe","N","q","tier","D","type","customTiers","keyName","Tiers","Ue","Pe","$","tab","pic","picLink","W","R","F","H","Y","setPrototypeOf","__proto__","_events","once","off","splice","indexOf","constEmit","z","ee","milestone1","milestone2","milestone3","krumblor","level1","level2","ne","ie","research","cookie","mouse","multicursor","kitten","ae","re","l","ctx","mouseOn","getBoundingClientRect","mousePos","pageX","left","pageY","top","minigame","launch","load","buildingLink","foolObjects","goldenCookieBuildingBuffs","locked","BuildStore","backgroundImage","pics","className","display","backgroundPositionX","backgroundPositionY","mute","window","PlaySound","AddEvent","appendChild","recalculateGains","te","se","descFunc","priceFunc","iconFunction","Upgrade","de","posX","posY","parents","map","UpgradesById","PrestigeUpgrades","UpgradePositions","ce","plural","price","GetIcon","SetTier","buildingTie1","order","fortune","isNaN","buyFunction","le","endsWith","substring","Grandma","redraw","buildingTie","GrandmaSynergies","ue","buildingTie2","synergies","RebuildUpgrades","pe","ge","Cursor","special","buildingHooks","Unlock","default","ke","be","milkProgress","hiddenMilkMult","cookiesMultByType","kittens","UpgradesByPool","he","handmadeCookies","ve","Beautify","power","cookieOrder","unlockAt","require","season","UnlockAt","cookieUpgrades","fe","Ce","color","filter","unlock","achievUnlock","req","iconRow","ye","Le","Achievement","Oe","BankAchievements","toFixed","treshold","Ae","CpsAchievements","we","Win","single","tieredAchievs","je","iconColumn","productionAchievs","pow","achiev","Se","levelAchiev10","Te","desc","picY","action","costStr","cost","Ie","sacrifice","Me","Milks","substr","MilksByChoice","buildingHooksById","hookAllBuildings","onLoad","Building","TieredUpgrade","Tier","HeavenlyUpgrade","GrandmaSynergy","SynergyUpgrade","CursorUpgrade","KittenUpgrade","MouseUpgrade","CookieUpgrade","CpsAchievement","BankAchievement","TieredAchievement","ProductionAchievement","Level10Achievement","MouseAchievement","DragonAura","DragonLevel","DragonAuraLevel","injectCode","injectCodes","DEFAULT_ONBUY","UnlockTiered","SpecialGrandmaUnlock","DEFAULT_CPS","GetTieredCpsMult","magicCpS","baseCps","icons","relinkColumn","reduce","Infinity","concat","relinkRow","patchIconsheet","clearRect","extraColumnIcons","extraRowIcons","alias","aliases","Cppkies","UpdateMenu","WriteSave","Reset","registerHook","art","CalculateGains","mouseCps","getNewTicker","DrawSpecial","ToggleSpecialMenu","Load","bind","Notify","textContent","querySelector","insertBefore","children","modSaveData","cppkies","registerMod","Proxy","set","CPPKIES_ONLOAD","_e","patchFunc","removeFunc","applied","Patch","force","toState","remove","Util.scrollbarStyle","DrawBuildings","drawPattern","mutePattern","redrawPattern","scrollOffX","lastRandX","lastRandY","lastOffX","lastMouseOn","lastAmount","lastSynergyAmount","hasUnloadedImages","forceDraw","draw","buildingTooltips","tooltipPattern","buffTooltips","buff","buffs","buffL","buffsL","getElementsByClassName","removeAttribute","onmouseover","mouseDown","setOnCrate","dynamic","GetBuffTooltipFunc","wobble","gainBuff","div","visibility","buffId","clientWidth","buffDesc","sayTime","maxTime","text","time","patchGrimoire","grimoire","spells","win","miscGrandmaFixes","upgrade","baseDesc","sort","scriptGrannies","statsUpgradeCategories","displaySeasonUnlock","addCosmeticSeason","displaySeason","allSanta","santaDrops","crateTooltip","mysterious","name_1","reindeerDrops","name_2","allSanta_1","name_3","_d","halloweenDrops","name_4","_f","easterEggs","UpdateWrinklers","Util.inRect","cursedFingerTweaks","buffTypesByName","cursedFingerPart2","cursedBuff","hasBuff","multCpS","bigCookie","removeEventListener","ClickCookie","cycliusGains","stockInfo","Util.onMinigameLoaded","stockMarket","buyGood","sellGood","drawGraph","toRedraw","fancyBuildings","Draw","fancyCursors","DrawBackground","fancyWrinklers","buySellBulk","rebuildPattern","refreshPattern","buyPattern","rebuild","refresh","storeBulkButton","Logic","updateBulkAll","buyMode","buyBulk","RefreshStore","cycliusInfo","pantheon","functionPattern","godTooltip","slotTooltip","cycliusFunc","effect","mult","Util.cycliusCalc","sign","cyclius","gods","toggleCyclius","desc1","desc2","desc3","activeDescFunc","activeDescBackup","getSumPrice","getReverseSumPrice","market","brokerButton","parent","parentElement","newButton","classList","add","innerHTML","onclick","brokers","getMaxBrokers","getBrokerPrice","Dissolve","Spend","profit","SparkleOn","target","particleAdd","pattern","getPrice","marketL","headerL","graphL","goodsDiv","goodId","goodsById","newDiv","paddingRight","paddingLeft","percentSpan","valueSpan","stockSpan","stockMaxSpan","stockValueSpan","hideButton","buyButton","sellButton","good","symbolTable","overflow","topRow","nameCell","setAttribute","verticalAlign","percentCell","valueCell","maxStockCell","bottomRow","profitPercentCell","boughtValueCell","ownedStockCell","rightTable","rightTopRow","rightBotRow","buyButtonCell","hideButtonCell","sellButtonCell","zIndex","transform","position","margin","float","background","buySellDiv","paddingTop","paddingBottom","symbolsDiv","getAttribute","titleSymbol","padding","removeChild","titleDiv","trim","fontSize","boxShadow","percentSymbol","percentSpanDiv","textAlign","valueSymbol","marginLeft","stockMaxSymbol","ownedStockSymbol","stockValueSymbol","profitPercentSymbol","profitSpanDiv","fontWeight","awesomeInject","tradeTooltip","Loop","settingName","options","OptionedButton","selected","toggleFunction","buttonId","element","onOption","offOption","_super","_this","__extends","Header","opacity","fontFamily","createTextNode","Title","title","elements","Listing","SesameListing","sesame","SesameHeader","ConfigMenu","frag","createDocumentFragment","menuDisplay","BooleanButton","Patches.buildingTooltips","Patches.miscGrandmaFixes","Patches.statsUpgradeCategories","Patches.displaySeasonUnlock","Util.switchMilkIcon","tt","ascendMeter","removeProperty","Patches.heavenlyCookies","Patches.updateBulkAll","Patches.dangerousBrokers","Patches.alternateStockMarket","Patches.toggleCyclius","Patches.cursedFingerTweaks","Patches.buildingPriceBuff","storeToRefresh","Patches.optiCookies","Patches.drawTimerFix","onMenu","childNodes","enabled","routines","Routine","RoutineFunction","ascendNumber","chipsOwned","HowMuchPrestige","cookiesReset","ascendNowToOwn","cookiesEarned","ascendNowToGet","Spice","numericallyStableHeavenlyChipGains","stableHeavenlyChipGains","nextChipAt","HowManyCookiesReset","cookiesToNext","percent","velocity","superspeed","superspeedRev","perc","SimpleBeautify","godEff","hasGod","godLvl","effs","RoutineCollection","logicRoutine","LogicRoutine","LogicRoutineCollection","milkType","Number","parseFloat","hasRun","magicBar","magicMeter","transformOrigin","replaceChild","slot","contains","animation","rotation","setProperty","drawRoutine","DrawRoutine","DrawRoutineCollection","reset","resetRoutine","ResetRoutine","ResetRoutineCollection","grandmaProperties","frequency","drawGrandma","basePic","random","frame","dir","Util.loadCustomAsset","realID","prevX","prevID","prevY","props","granToBan","Logger.warn","currentGrandmas","Util.getNumSynergyGrandmas","drawnGrandmas","prevDrawnGrandmas","grandmas","_Vars.version","Util","_Util","Config","_Config","Patches","_Patches","Logger","_Logger","Routines","_Routines","_settings","_saveData","grandmaDesc","choose","buildingChoice","numGrandmas","grandmaMessage","OmniCookiesExport","startupMessages","mod","init","run","customOptionsMenu","str","toggle","_GrandmaSupport","_Vars.vars","OmniCookies","OmniCookies.Logger","OmniCookies.name","OmniCookies.mod"],"mappings":"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"}